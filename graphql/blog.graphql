fragment pageInfoFragment on PageInfo {
  endCursor
  startCursor
  hasNextPage
  hasPreviousPage
}

fragment authorFragment on Actor {
  login
  avatarUrl
}

query getBlogList(
  $name: String!
  $owner: String!
  $first: Int!
  $after: String
  $before: String
) {
  repository(name: $name, owner: $owner) {
    id
    issues(first: $first, after: $after, before: $before) {
      nodes {
        id
        author {
          login
          avatarUrl
        }
        number
        createdAt
        publishedAt
        updatedAt
        state
        title
        bodyHTML
      }
      pageInfo {
        ...pageInfoFragment
      }
      totalCount
    }
  }
}

query getSingleBlog(
  $name: String!
  $owner: String!
  $number: Int!
  $first: Int = 10
) {
  repository(name: $name, owner: $owner) {
    id
    issue(number: $number) {
      author {
        login
        avatarUrl
      }
      id
      body
      title
      number
      createdAt
      publishedAt
      updatedAt
      comments(first: $first) {
        nodes {
          author {
            ...authorFragment
          }
          body
          createdAt
          updatedAt
          viewerDidAuthor
        }
        pageInfo {
          ...pageInfoFragment
        }
        totalCount
      }
    }
  }
}
