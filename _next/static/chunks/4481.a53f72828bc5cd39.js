"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4481],{74481:function(e,i,t){t.d(i,{Pz:function(){return T},gQ:function(){return l.gQ},uN:function(){return ii}});var n,s=t(27497),l=t(34983);!function(e){e.None="None",e.Up="Up",e.Down="Down",e.Both="Both",e.Short="Short"}(n||(n={}));class d{constructor(e,i,t,n,s){this.header=e,this.lines=i,this.unifiedDiffStart=t,this.unifiedDiffEnd=n,this.expansionType=s}equals(e){return this===e||this.header.equals(e.header)&&this.unifiedDiffStart===e.unifiedDiffStart&&this.unifiedDiffEnd===e.unifiedDiffEnd&&this.expansionType===e.expansionType&&this.lines.length===e.lines.length&&this.lines.every(((i,t)=>i.equals(e.lines[t])))}}class a{constructor(e,i,t,n){this.oldStartLine=e,this.oldLineCount=i,this.newStartLine=t,this.newLineCount=n}toDiffLineRepresentation(){return`@@ -${this.oldStartLine},${this.oldLineCount} +${this.newStartLine},${this.newLineCount} @@`}equals(e){return this.oldStartLine===e.oldStartLine&&this.oldLineCount===e.oldLineCount&&this.newStartLine===e.newStartLine&&this.oldStartLine===e.oldStartLine}}"function"===typeof SuppressedError&&SuppressedError;const h="--diff-add-content-highlight--",o="--diff-del-content-highlight--";var r;!function(e){e[e.CRLF=1]="CRLF",e[e.CR=2]="CR",e[e.LF=3]="LF",e[e.NEWLINE=4]="NEWLINE",e[e.NORMAL=5]="NORMAL",e[e.NULL=6]="NULL"}(r||(r={}));const f=e=>{switch(e){case r.LF:return"\u240a";case r.CR:return"\u240d";case r.CRLF:return"\u240d\u240a";default:return""}};var u;!function(e){e[e.SplitGitHub=1]="SplitGitHub",e[e.SplitGitLab=2]="SplitGitLab",e[e.Split=3]="Split",e[e.Unified=4]="Unified"}(u||(u={}));let g=1e3;function c(e){return e.location+e.length}function p(e,i,t,n,s){const l=Math.min(i.length,n.length),d=s?c(i)-1:i.location,a=s?c(n)-1:n.location,h=s?-1:1;let o=0;for(;Math.abs(o)<l&&e[d+o]===t[a+o];)o+=h;return Math.abs(o)}function L(e){return 0===e.trim().length||e.length>=g}function v(e,i){const t=e.text,n=i.text,s=t.slice(-2),l=n.slice(-2),d="\r\n"===s?r.CRLF:s.endsWith("\r")?r.CR:s.endsWith("\n")?r.LF:r.NULL,a="\r\n"===l?r.CRLF:l.endsWith("\r")?r.CR:l.endsWith("\n")?r.LF:r.NULL,h=e.noTrailingNewLine!==i.noTrailingNewLine;return d!==a||h?{addSymbol:h?e.noTrailingNewLine?r.NEWLINE:r.NORMAL:d,addString:d===r.CRLF?t.slice(0,-2):d===r.CR||d===r.LF?t.slice(0,-1):t,delSymbol:h?i.noTrailingNewLine?r.NEWLINE:r.NORMAL:a,delString:a===r.CRLF?n.slice(0,-2):a===r.CR||a===r.LF?n.slice(0,-1):n}:{addSymbol:void 0,addString:t,delSymbol:void 0,delString:n}}function m(e,i){const t=e.text,n=i.text,{addString:s,delString:l,addSymbol:d,delSymbol:a}=v(e,i);if(s===l&&d&&a)return{addRange:{range:{location:s.length,length:t.length-s.length},hasLineChange:!0,newLineSymbol:d},delRange:{range:{location:l.length,length:n.length-l.length},hasLineChange:!0,newLineSymbol:a}};let h={location:0,length:l.length},o={location:0,length:s.length};if(L(t)||L(n))return o.length=0,h.length=0,{addRange:{range:o},delRange:{range:h}};const r=p(l,h,s,o,!1);h={location:h.location+r,length:h.length-r},o={location:o.location+r,length:o.length-r};const f=p(l,h,s,o,!0);return h.length-=f,o.length-=f,{addRange:{range:o,hasLineChange:(s.slice(0,o.location)+s.slice(o.location+o.length)).trim().length>0},delRange:{range:h,hasLineChange:(l.slice(0,h.location)+l.slice(h.location+h.length)).trim().length>0}}}function x(e,i){const{addString:t,addSymbol:n,delString:l,delSymbol:d}=v(e,i);if(L(t)||L(l))return{addRange:{range:[],hasLineChange:!!n,newLineSymbol:n},delRange:{range:[],hasLineChange:!!d,newLineSymbol:d}};const a=s(l,t,0,!0);let h=0,o=0;const r=a.filter((e=>-1!==e[0])).map((e=>({type:e[0],str:e[1],startIndex:h,endIndex:h+e[1].length-1,length:(h+=e[1].length,e[1].length)}))),f=a.filter((e=>1!==e[0])).map((e=>({type:e[0],str:e[1],startIndex:o,endIndex:o+e[1].length-1,length:(o+=e[1].length,e[1].length)})));return{addRange:{range:r,hasLineChange:r.some((e=>0===e.type&&e.str.trim().length>0)),newLineSymbol:n},delRange:{range:f,hasLineChange:r.some((e=>0===e.type&&e.str.trim().length>0)),newLineSymbol:d}}}var w;!function(e){e[e.Context=0]="Context",e[e.Add=1]="Add",e[e.Delete=2]="Delete",e[e.Hunk=3]="Hunk"}(w||(w={}));class b{constructor(e,i,t,n,s,l=!1,d,a,h,o,r,f){this.text=e,this.type=i,this.originalLineNumber=t,this.oldLineNumber=n,this.newLineNumber=s,this.noTrailingNewLine=l,this.changes=d,this.diffChanges=a,this.plainTemplate=h,this.plainTemplateMode=o,this.syntaxTemplate=r,this.syntaxTemplateMode=f}withNoTrailingNewLine(e){return new b(this.text,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,e)}isIncludeableLine(){return this.type===w.Add||this.type===w.Delete}equals(e){return this.text===e.text&&this.type===e.type&&this.originalLineNumber===e.originalLineNumber&&this.oldLineNumber===e.oldLineNumber&&this.newLineNumber===e.newLineNumber&&this.noTrailingNewLine===e.noTrailingNewLine}clone(e){return new b(e,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,this.noTrailingNewLine)}}const I=/["'&<>]/;let y=!1;const N=e=>e;let S=N,H=N;const F=()=>y,_=e=>y&&N!==S?S(e):e;let k=!1;const T=e=>{k=e},C=e=>function(e){const i=""+e,t=I.exec(i);if(!t)return i;let n,s,l="",d=0;for(s=t.index;s<i.length;s++){switch(i.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}d!==s&&(l+=i.slice(d,s)),d=s+1,l+=n}return d!==s?l+i.slice(d,s):l}(e).replace(/\n/g,"").replace(/\r/g,""),$=({diffLine:e,rawLine:i,operator:t})=>{if(e.plainTemplate&&"relative"===e.plainTemplateMode)return;const n=e.changes;if(!n||!n.hasLineChange||!i)return;const s=F()?_:C,l=n.range,d=i.slice(0,l.location),a=i.slice(l.location,l.location+l.length),r=i.slice(l.location+l.length),u=a.includes("\n"),g=n.newLineSymbol;let c=`<span data-range-start="${l.location}" data-range-end="${l.location+l.length}">`;c+=s(d),c+=`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">`,c+=u?`${s(a)}<span data-newline-symbol>${f(g)}</span>`:s(a),c+="</span>",c+=s(r),c+="</span>",e.plainTemplate=c,e.plainTemplateMode="relative"},E=({diffLine:e,rawLine:i,operator:t})=>{const n=e.diffChanges;if(!n||!n.hasLineChange||!i)return;const s=F()?_:C;let l="";n.range.forEach((({type:e,str:i,startIndex:d,endIndex:a},r,u)=>{const g=r===u.length-1;0===e?(l+=`<span>${s(i)}`,l+=g&&n.newLineSymbol?`<span data-newline-symbol data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">${f(n.newLineSymbol)}</span>`:"",l+="</span>"):(l+=`<span data-range-start="${d}" data-range-end="${a}">`,l+=`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">${s(i)}`,l+=g&&n.newLineSymbol?`<span data-newline-symbol data-diff-highlight>${f(n.newLineSymbol)}</span>`:"",l+="</span></span>")})),e.plainTemplate=l,e.plainTemplateMode="fast-diff"},M=({diffLine:e,syntaxLine:i,operator:t})=>{var n;if(!i)return;if(e.syntaxTemplate&&"relative"===e.syntaxTemplateMode)return;const s=e.changes;if(!s||!s.hasLineChange)return;const l=F()?_:C,d=s.range;let a=`<span data-range-start="${d.location}" data-range-end="${d.location+d.length}">`;null===(n=null===i||void 0===i?void 0:i.nodeList)||void 0===n||n.forEach((({node:e,wrapper:i})=>{var n,r,u,g,c,p;if(e.endIndex<d.location||d.location+d.length<e.startIndex)a+=`<span data-start="${e.startIndex}" data-end="${e.endIndex}" class="${null===(r=(null===(n=null===i||void 0===i?void 0:i.properties)||void 0===n?void 0:n.className)||[])||void 0===r?void 0:r.join(" ")}" style="${(null===(u=null===i||void 0===i?void 0:i.properties)||void 0===u?void 0:u.style)||""}">${l(e.value)}</span>`;else{const n=d.location-e.startIndex,r=n<0?0:n,u=e.value.slice(0,r),L=e.value.slice(r,n+d.length),v=e.value.slice(n+d.length),m=u.length||d.location===e.startIndex,x=v.length||e.endIndex===d.location+d.length-1,w=L.includes("\n");a+=`<span data-start="${e.startIndex}" data-end="${e.endIndex}" class="${null===(c=(null===(g=null===i||void 0===i?void 0:i.properties)||void 0===g?void 0:g.className)||[])||void 0===c?void 0:c.join(" ")}" style="${(null===(p=null===i||void 0===i?void 0:i.properties)||void 0===p?void 0:p.style)||""}">${l(u)}<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-top-left-radius: ${m?"0.2em":"0"};border-bottom-left-radius: ${m?"0.2em":"0"};border-top-right-radius: ${x||w?"0.2em":"0"};border-bottom-right-radius: ${x||w?"0.2em":"0"}">${w?`${l(L)}<span data-newline-symbol>${f(s.newLineSymbol)}</span>`:l(L)}</span>${l(v)}</span>`}})),a+="</span>",e.syntaxTemplate=a,e.syntaxTemplateMode="relative"},O=({diffLine:e,syntaxLine:i,operator:t})=>{var n;if(!i)return;if(e.syntaxTemplate&&"fast-diff"===e.syntaxTemplateMode)return;const s=e.diffChanges;if(!s||!s.hasLineChange)return;const l=F()?_:C;let d="";const a=s.range.filter((e=>0!==e.type));let r=0;null===(n=null===i||void 0===i?void 0:i.nodeList)||void 0===n||n.forEach((({node:e,wrapper:i},n,u)=>{var g,c,p;d+=`<span data-start="${e.startIndex}" data-end="${e.endIndex}" class="${null===(c=(null===(g=null===i||void 0===i?void 0:i.properties)||void 0===g?void 0:g.className)||[])||void 0===c?void 0:c.join(" ")}" style="${(null===(p=null===i||void 0===i?void 0:i.properties)||void 0===p?void 0:p.style)||""}">`;let L=a[r];const v=n===u.length-1;for(let m=0;m<e.value.length;m++){const i=e.startIndex+m,n=e.value[m],u=m===e.value.length-1,g=v&&m===e.value.length-1;if(L){if(i<L.startIndex)d+=l(n),g&&s.newLineSymbol&&(d+=`<span data-newline-symbol data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">${f(s.newLineSymbol)}</span>`);else if(i===L.startIndex){const c=L.endIndex<=e.endIndex;d+=c?`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">`:`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-top-left-radius: 0.2em;border-bottom-left-radius: 0.2em;">`,d+=l(n),g&&s.newLineSymbol&&(d+=`<span data-newline-symbol>${f(s.newLineSymbol)}</span>`),(u||L.startIndex===L.endIndex)&&(d+="</span>"),L.endIndex===i&&(r++,L=a[r])}else if(i<L.endIndex){if(0===m){const i=L.startIndex>=e.startIndex&&L.endIndex<=e.endIndex,n=L.endIndex<=e.endIndex;d+=i?`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">`:n?`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-top-right-radius: 0.2em;border-bottom-right-radius: 0.2em;">`:`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});">`}d+=l(n),g&&s.newLineSymbol&&(d+=`<span data-newline-symbol>${f(s.newLineSymbol)}</span>`),u&&(d+="</span>")}else if(i===L.endIndex){L.startIndex>=e.startIndex||0===m&&(d+=`<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-top-right-radius: 0.2em;border-bottom-right-radius: 0.2em;">`),d+=l(n),g&&s.newLineSymbol&&(d+=`<span data-newline-symbol>${f(s.newLineSymbol)}</span>`),d+="</span>",r++,L=a[r]}}else d+=l(n)}d+="</span>"})),e.syntaxTemplate=d,e.syntaxTemplateMode="fast-diff"},R=e=>{if(!e)return"";return(F()?_:C)(e)};function j(e,i){throw new Error(i)}function W(e){var i,t;if(0===e.length)return 0;for(let n=e.length-1;n>=0;n--){const s=e[n];for(let e=s.lines.length-1;e>=0;e--){const n=s.lines[e];if(n.type===w.Hunk)continue;const l=null!==(i=n.newLineNumber)&&void 0!==i?i:0,d=null!==(t=n.oldLineNumber)&&void 0!==t?t:0;return l>d?l:d}}return 0}const D=e=>{const i=e.lastIndexOf(".");return e.slice(i+1)},A=(e,i,{getAdditionRaw:t,getDeletionRaw:n,getAdditionSyntax:s,getDeletionSyntax:l})=>{if(e.length===i.length){const d=e.length;for(let a=0;a<d;a++){const d=e[a],h=i[a];if(!d.changes||!h.changes){const e=b.prototype.clone.call(d,t(d.newLineNumber)||d.text||""),i=b.prototype.clone.call(h,n(h.oldLineNumber)||h.text||""),{addRange:s,delRange:l}=m(e,i);d.changes=s,h.changes=l}if(k){const e=b.prototype.clone.call(d,t(d.newLineNumber)||d.text||""),i=b.prototype.clone.call(h,n(h.oldLineNumber)||h.text||""),{addRange:a,delRange:o}=x(e,i);d.diffChanges=a,h.diffChanges=o,E({diffLine:d,rawLine:t(d.newLineNumber),operator:"add"}),E({diffLine:h,rawLine:n(h.oldLineNumber),operator:"del"}),O({diffLine:d,syntaxLine:s(d.newLineNumber),operator:"add"}),O({diffLine:h,syntaxLine:l(h.oldLineNumber),operator:"del"})}else d.plainTemplate&&h.plainTemplate||($({diffLine:d,rawLine:t(d.newLineNumber),operator:"add"}),$({diffLine:h,rawLine:n(h.oldLineNumber),operator:"del"})),d.syntaxTemplate&&h.syntaxTemplate||(M({diffLine:d,syntaxLine:s(d.newLineNumber),operator:"add"}),M({diffLine:h,syntaxLine:l(h.oldLineNumber),operator:"del"}))}}},B=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/,U=/[\u202A-\u202E]|[\u2066-\u2069]/,P=new Set(["+","-"," ","\\","\n"]);const G=new class{constructor(){Object.defineProperty(this,"__v_skip",{value:!0}),this.reset()}reset(){this.ls=0,this.le=-1,this.text=""}nextLine(){return this.ls=this.le+1,!(this.ls>=this.text.length)&&(this.le=this.text.indexOf("\n",this.ls),-1===this.le&&(this.le=this.text.length),this.ls!==this.le)}readLine(e){return e?this.nextLine()?this.text.substring(this.ls,this.le):null:this.nextLine()?this.text.substring(this.ls+1,this.le+1):this.text.length>this.ls?"\n":null}lineStartsWith(e){return this.text.startsWith(e,this.ls)}lineEndsWith(e){return this.text.endsWith(e,this.le)}peek(){const e=this.le+1;return e<this.text.length?this.text[e]:null}parseDiffHeader(){let e=!1;for(;this.nextLine();){if(this.lineStartsWith("Binary files ")&&this.lineEndsWith("differ"))return{isBinary:!0};if(this.lineStartsWith("---")&&(e=!0),this.lineStartsWith("+++"))return{isBinary:!1}}return null}numberFromGroup(e,i,t=null){const n=e[i];if(!n){if(!t)throw new Error(`Group ${i} missing from regexp match and no defaultValue was provided`);return t}const s=parseInt(n,10);if(isNaN(s))throw new Error(`Could not parse capture group ${i} into number: ${n}`);return s}parseHunkHeader(e){const i=B.exec(e);if(!i)throw new Error("Invalid hunk header format");const t=this.numberFromGroup(i,1),n=this.numberFromGroup(i,2,1),s=this.numberFromGroup(i,3),l=this.numberFromGroup(i,4,1);return new a(t,n,s,l)}parseLinePrefix(e){return e&&e.length&&P.has(e[0])?e[0]:null}parseHunk(e,i,t){const s=this.readLine(!0);if(!s)throw new Error("Expected hunk header but reached end of diff");const l=this.parseHunkHeader(s),a=new Array;let h;a.push(new b(s,w.Hunk,1,null,null));let o=l.oldStartLine,r=l.newStartLine,f=e;for(;h=this.parseLinePrefix(this.peek());){const e=this.readLine(!1);if(!e)throw new Error("Expected unified diff line but reached end of diff");if("\\"===h){if(e.length<12)throw new Error('Expected "no newline at end of file" marker to be at least 12 bytes long');const i=a.length-1,t=a[i];a[i]=t.withNoTrailingNewLine(!0);continue}let i;if(f++,"+"===h)i=new b(e,w.Add,f,null,r++);else if("-"===h)i=new b(e,w.Delete,f,o++,null);else{if(" "!==h&&"\n"!==h)return j(0,`Unknown DiffLinePrefix: ${h}`);i=new b(e,w.Context,f,o++,r++)}a.push(i)}if(1===a.length)throw new Error("Malformed diff, empty hunk");return new d(l,a,e,e+a.length-1,function(e,i,t){const s=null===t?1/0:i.oldStartLine-t.header.oldStartLine-t.header.oldLineCount;return 0===e?i.oldStartLine>1&&i.newStartLine>1?n.Up:n.None:s<=40?n.Short:n.Both}(i,l,t))}parse(e){this.text=e;try{const i=this.parseDiffHeader(),t=this.le,n=this.text.substring(0,t);if(!i)return{header:n,contents:"",hunks:[],isBinary:!1,maxLineNumber:0,hasHiddenBidiChars:!1};if(i.isBinary)return{header:n,contents:"",hunks:[],isBinary:!0,maxLineNumber:0,hasHiddenBidiChars:!1};const s=new Array;let l=0,d=null;do{const e=this.parseHunk(l,s.length,d);s.push(e),d=e,l+=e.lines.length}while(this.peek());return{header:n,contents:this.text.substring(t+1,this.le).replace(/\n\\ No newline at end of file/g,""),hunks:s,isBinary:i.isBinary,maxLineNumber:W(s),hasHiddenBidiChars:U.test(e)}}finally{this.reset()}}};function q(e,i,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof i?e!==i||!n:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(e):n?n.value:i.get(e)}function Q(e,i,t,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof i?e!==i||!s:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,t):s?s.value=t:i.set(e,t),t}var z,V,J,K,X;"function"===typeof SuppressedError&&SuppressedError;class Y extends Map{constructor(){super(...arguments),z.add(this),V.set(this,[]),J.set(this,30)}get maxLength(){return q(this,J,"f")}setMaxLength(e){Q(this,J,e,"f"),q(this,z,"m",K).call(this)}set(e,i){return q(this,J,"f")<=0||this.has(e)?this:(q(this,V,"f").push(e),q(this,z,"m",K).call(this),super.set(e,i))}}V=new WeakMap,J=new WeakMap,z=new WeakSet,K=function(){for(;q(this,V,"f").length>q(this,J,"f");){const e=q(this,V,"f").shift();this.delete(e)}};const Z=new Y;Z.setMaxLength(50),Z.name="@git-diff-view/core";class ee{static createInstance(e){var i;const t=new ee(null===e||void 0===e?void 0:e.raw,null===e||void 0===e?void 0:e.lang,null===e||void 0===e?void 0:e.fileName);return t.ast=null===e||void 0===e?void 0:e.ast,t.rawFile=(null===e||void 0===e?void 0:e.rawFile)||{},t.plainFile=(null===e||void 0===e?void 0:e.plainFile)||{},t.hasDoRaw=null===e||void 0===e?void 0:e.hasDoRaw,t.rawLength=null===e||void 0===e?void 0:e.rawLength,t.syntaxFile=(null===e||void 0===e?void 0:e.syntaxFile)||{},t.hasDoSyntax=null===e||void 0===e?void 0:e.hasDoSyntax,t.syntaxLength=null===e||void 0===e?void 0:e.syntaxLength,t.highlighterName=null===e||void 0===e?void 0:e.highlighterName,t.highlighterType=null===e||void 0===e?void 0:e.highlighterType,t.maxLineNumber=null===e||void 0===e?void 0:e.maxLineNumber,t.enableTemplate=null===(i=null===e||void 0===e?void 0:e.enableTemplate)||void 0===i||i,t}constructor(e,i,t){var n;X.add(this),this.raw=e,this.lang=i,this.fileName=t,this.rawFile={},this.hasDoRaw=!1,this.syntaxFile={},this.plainFile={},this.hasDoSyntax=!1,this.maxLineNumber=0,this.enableTemplate=!0,this.raw=(n=e,y&&N!==H?H(n):n),Object.defineProperty(this,"__v_skip",{value:!0})}doSyntax({registerHighlighter:e,theme:i}){if(!this.raw||this.hasDoSyntax)return;const t=e||l.gQ;if(this.syntaxLength)return void 0;if(this.rawLength>t.maxLineToIgnoreSyntax)return void 0;let n=t;try{t.hasRegisteredCurrentLang(this.lang)||(n=l.gQ)}catch(a){n=l.gQ}if(this.ast=n.getAST(this.raw,this.fileName,this.lang,i),!this.ast)return;const{syntaxFileObject:s,syntaxFileLineNumber:d}=n.processAST(this.ast);this.enableTemplate&&Object.values(s).forEach((e=>{e.template=(e=>{var i;let t="";const n=F()?_:C;return null===(i=null===e||void 0===e?void 0:e.nodeList)||void 0===i||i.forEach((({node:e,wrapper:i})=>{var s,l,d;t+=`<span data-start="${e.startIndex}" data-end="${e.endIndex}" class="${null===(l=(null===(s=null===i||void 0===i?void 0:i.properties)||void 0===s?void 0:s.className)||[])||void 0===l?void 0:l.join(" ")}" style="${(null===(d=null===i||void 0===i?void 0:i.properties)||void 0===d?void 0:d.style)||""}">${n(e.value)}</span>`})),t})(e)})),this.syntaxFile=s,this.syntaxLength=d,this.highlighterName=n.name,this.highlighterType=n.type,this.hasDoSyntax=!0}doRaw(){if(!this.raw||this.hasDoRaw)return;const e=this.raw.split("\n");this.rawLength=e.length,this.maxLineNumber=e.length,this.rawFile={},this.plainFile={};for(let i=0;i<e.length;i++)this.rawFile[i+1]=i<e.length-1?e[i]+"\n":e[i],this.enableTemplate&&(this.plainFile[i+1]={value:this.rawFile[i+1],template:R(this.rawFile[i+1])});this.hasDoRaw=!0}}function ie(e,i,t,n,s){let l=e+"--0.0.33--"+t+"--"+i;s&&(l=s+"--0.0.33--"+t+"--"+i);let d=e+"--0.0.33--"+("light"===t?"dark":"light")+"--"+i;if(s&&(d=s+"--0.0.33--"+("light"===t?"dark":"light")+"--"+i),Z.has(l))return Z.get(l);if(Z.has(d)){const e=Z.get(d);if("class"===e.highlighterType)return e}const a=new ee(e,i,n);return Z.set(l,a),a}X=new WeakSet;var te,ne,se,le,de,ae,he,oe,re,fe,ue,ge,ce,pe,Le,ve,me,xe,we,be,Ie,ye,Ne,Se,He,Fe,_e,ke,Te,Ce,$e,Ee,Me,Oe,Re,je,We,De,Ae,Be,Ue,Pe,Ge,qe,Qe,ze,Ve,Je,Ke,Xe,Ye;let Ze=40;const ei=new Set;class ii{static createInstance(e,i){var t,n,s,l,d,a;const h=new ii((null===(t=null===e||void 0===e?void 0:e.oldFile)||void 0===t?void 0:t.fileName)||"",(null===(n=null===e||void 0===e?void 0:e.oldFile)||void 0===n?void 0:n.content)||"",(null===(s=null===e||void 0===e?void 0:e.newFile)||void 0===s?void 0:s.fileName)||"",(null===(l=null===e||void 0===e?void 0:e.newFile)||void 0===l?void 0:l.content)||"",(null===e||void 0===e?void 0:e.hunks)||[],(null===(d=null===e||void 0===e?void 0:e.oldFile)||void 0===d?void 0:d.fileLang)||"",(null===(a=null===e||void 0===e?void 0:e.newFile)||void 0===a?void 0:a.fileLang)||"");return i&&(i.isFullMerge?h._mergeFullBundle(i):h.mergeBundle(i)),h}constructor(e,i,t,n,s,l,d,a){te.add(this),this.uuid=a,ne.set(this,void 0),se.set(this,void 0),le.set(this,void 0),de.set(this,void 0),ae.set(this,void 0),he.set(this,void 0),oe.set(this,void 0),re.set(this,void 0),fe.set(this,void 0),ue.set(this,void 0),ge.set(this,void 0),ce.set(this,void 0),pe.set(this,void 0),Le.set(this,void 0),ve.set(this,[]),me.set(this,[]),xe.set(this,void 0),we.set(this,[]),be.set(this,void 0),Ie.set(this,[]),ye.set(this,!1),Ne.set(this,!1),Se.set(this,!1),He.set(this,!1),Fe.set(this,0),_e.set(this,!1),ke.set(this,!1),Te.set(this,!0),Ce.set(this,!1),$e.set(this,void 0),Ee.set(this,void 0),Me.set(this,"light"),Oe.set(this,void 0),Re.set(this,{state:!1}),je.set(this,{state:!1}),this._version_="0.0.33",this._oldFileName="",this._oldFileContent="",this._oldFileLang="",this._newFileName="",this._newFileContent="",this._newFileLang="",this._diffList=[],this.diffLineLength=0,this.splitLineLength=0,this.unifiedLineLength=0,this.fileLineLength=0,this.additionLength=0,this.deletionLength=0,this.hasSomeLineCollapsed=!1,We.set(this,""),De.set(this,new Map),this.getSplitLeftLine=e=>q(this,ve,"f")[e],this.getSplitLineByLineNumber=(e,i)=>{var t,n;return i===ni.old?null===(t=q(this,ve,"f"))||void 0===t?void 0:t.find((i=>i.lineNumber===e)):null===(n=q(this,me,"f"))||void 0===n?void 0:n.find((i=>i.lineNumber===e))},this.getSplitLineIndexByLineNumber=(e,i)=>{var t,n;return i===ni.old?null===(t=q(this,ve,"f"))||void 0===t?void 0:t.findIndex((i=>i.lineNumber===e)):null===(n=q(this,me,"f"))||void 0===n?void 0:n.findIndex((i=>i.lineNumber===e))},this.getSplitRightLine=e=>q(this,me,"f")[e],this.getSplitHunkLine=e=>{var i;return null===(i=q(this,xe,"f"))||void 0===i?void 0:i[e]},this.onSplitHunkExpand=(e,i,t=!0)=>{var n,s;const l=null===(n=q(this,xe,"f"))||void 0===n?void 0:n[i];if(l&&l.splitInfo&&!q(this,_e,"f")){if("all"===e){for(let e=l.splitInfo.startHiddenIndex;e<l.splitInfo.endHiddenIndex;e++){const i=q(this,ve,"f")[e],t=q(this,me,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.splitInfo=Object.assign(Object.assign(Object.assign({},l.splitInfo),l.hunkInfo),{plainText:l.text,startHiddenIndex:l.splitInfo.endHiddenIndex})}else if("down"===e){for(let e=l.splitInfo.startHiddenIndex;e<l.splitInfo.startHiddenIndex+Ze;e++){const i=q(this,ve,"f")[e],t=q(this,me,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.isLast?l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+Ze}):l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+Ze,plainText:`@@ -${l.splitInfo.oldStartIndex},${l.splitInfo.oldLength} +${l.splitInfo.newStartIndex},${l.splitInfo.newLength}`})}else{if(l.isLast)return void 0;for(let i=l.splitInfo.endHiddenIndex-Ze;i<l.splitInfo.endHiddenIndex;i++){const e=q(this,ve,"f")[i],t=q(this,me,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}const e=l.splitInfo.oldStartIndex-Ze,t=l.splitInfo.oldLength+Ze,n=l.splitInfo.newStartIndex-Ze,d=l.splitInfo.newLength+Ze;l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{endHiddenIndex:l.splitInfo.endHiddenIndex-Ze,oldStartIndex:e,oldLength:t,newStartIndex:n,newLength:d,plainText:`@@ -${e},${t} +${n},${d}`}),null===(s=q(this,xe,"f"))||void 0===s||delete s[i],q(this,xe,"f")[l.splitInfo.endHiddenIndex]=l}t&&this.notifyAll()}},this.getUnifiedLine=e=>q(this,we,"f")[e],this.getUnifiedLineByLineNumber=(e,i)=>{var t,n;return i===ni.old?null===(t=q(this,we,"f"))||void 0===t?void 0:t.find((i=>i.oldLineNumber===e)):null===(n=q(this,we,"f"))||void 0===n?void 0:n.find((i=>i.newLineNumber===e))},this.getUnifiedLineIndexByLineNumber=(e,i)=>{var t,n;return i===ni.old?null===(t=q(this,we,"f"))||void 0===t?void 0:t.findIndex((i=>i.oldLineNumber===e)):null===(n=q(this,we,"f"))||void 0===n?void 0:n.findIndex((i=>i.newLineNumber===e))},this.getUnifiedHunkLine=e=>{var i;return null===(i=q(this,be,"f"))||void 0===i?void 0:i[e]},this.onUnifiedHunkExpand=(e,i,t=!0)=>{var n,s,l;if(q(this,_e,"f"))return;const d=null===(n=q(this,be,"f"))||void 0===n?void 0:n[i];if(d&&d.unifiedInfo){if("all"===e){for(let e=d.unifiedInfo.startHiddenIndex;e<d.unifiedInfo.endHiddenIndex;e++){const i=null===(s=q(this,we,"f"))||void 0===s?void 0:s[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1)}d.unifiedInfo=Object.assign(Object.assign(Object.assign({},d.unifiedInfo),d.hunkInfo),{plainText:d.text,startHiddenIndex:d.unifiedInfo.endHiddenIndex})}else if("down"===e){for(let e=d.unifiedInfo.startHiddenIndex;e<d.unifiedInfo.startHiddenIndex+Ze;e++){const i=q(this,we,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1)}d.isLast?d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{startHiddenIndex:d.unifiedInfo.startHiddenIndex+Ze}):d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{startHiddenIndex:d.unifiedInfo.startHiddenIndex+Ze,plainText:`@@ -${d.unifiedInfo.oldStartIndex},${d.unifiedInfo.oldLength} +${d.unifiedInfo.newStartIndex},${d.unifiedInfo.newLength}`})}else{if(d.isLast)return void 0;for(let i=d.unifiedInfo.endHiddenIndex-Ze;i<d.unifiedInfo.endHiddenIndex;i++){const e=q(this,we,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1)}const e=d.unifiedInfo.oldStartIndex-Ze,t=d.unifiedInfo.oldLength+Ze,n=d.unifiedInfo.newStartIndex-Ze,s=d.unifiedInfo.newLength+Ze;d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{endHiddenIndex:d.unifiedInfo.endHiddenIndex-Ze,oldStartIndex:e,oldLength:t,newStartIndex:n,newLength:s,plainText:`@@ -${e},${t} +${n},${s}`}),null===(l=q(this,be,"f"))||void 0===l||delete l[i],q(this,be,"f")[d.unifiedInfo.endHiddenIndex]=d}t&&this.notifyAll()}},this.onAllExpand=e=>{q(this,_e,"f")||("split"===e?(Object.keys(q(this,xe,"f")||{}).forEach((e=>{this.onSplitHunkExpand("all",+e,!1)})),q(this,Re,"f").state=!0):(Object.keys(q(this,be,"f")||{}).forEach((e=>{this.onUnifiedHunkExpand("all",+e,!1)})),q(this,je,"f").state=!0),this.notifyAll())},this.onAllCollapse=e=>{q(this,_e,"f")||("split"===e?(Object.values(q(this,ve,"f")||{}).forEach((e=>{!e.isHidden&&e._isHidden&&(e.isHidden=e._isHidden)})),Object.values(q(this,me,"f")||{}).forEach((e=>{!e.isHidden&&e._isHidden&&(e.isHidden=e._isHidden)})),Object.values(q(this,xe,"f")||{}).forEach((e=>{e.splitInfo&&(e.splitInfo=Object.assign(Object.assign({},e.splitInfo),{oldStartIndex:e.splitInfo._oldStartIndex,oldLength:e.splitInfo._oldLength,newStartIndex:e.splitInfo._newStartIndex,newLength:e.splitInfo._newLength,startHiddenIndex:e.splitInfo._startHiddenIndex,endHiddenIndex:e.splitInfo._endHiddenIndex,plainText:e.splitInfo._plainText}))})),Object.keys(q(this,xe,"f")||{}).forEach((e=>{const i=q(this,xe,"f")[e];i.splitInfo&&i.splitInfo.endHiddenIndex!==+e&&(delete q(this,xe,"f")[e],q(this,xe,"f")[i.splitInfo.endHiddenIndex]=i)})),q(this,Re,"f").state=!1):(Object.values(q(this,we,"f")||{}).forEach((e=>{!e.isHidden&&e._isHidden&&(e.isHidden=e._isHidden)})),Object.values(q(this,be,"f")||{}).forEach((e=>{e.unifiedInfo&&(e.unifiedInfo=Object.assign(Object.assign({},e.unifiedInfo),{oldStartIndex:e.unifiedInfo._oldStartIndex,oldLength:e.unifiedInfo._oldLength,newStartIndex:e.unifiedInfo._newStartIndex,newLength:e.unifiedInfo._newLength,startHiddenIndex:e.unifiedInfo._startHiddenIndex,endHiddenIndex:e.unifiedInfo._endHiddenIndex,plainText:e.unifiedInfo._plainText}))})),Object.keys(q(this,be,"f")||{}).forEach((e=>{const i=q(this,be,"f")[e];i.unifiedInfo&&i.unifiedInfo.endHiddenIndex!==+e&&(delete q(this,be,"f")[e],q(this,be,"f")[i.unifiedInfo.endHiddenIndex]=i)})),q(this,je,"f").state=!1),this.notifyAll())},this.getOldFileContent=()=>{var e;return null===(e=q(this,ne,"f"))||void 0===e?void 0:e.raw},this.getNewFileContent=()=>{var e;return null===(e=q(this,se,"f"))||void 0===e?void 0:e.raw},this.getOldPlainLine=e=>{var i;return null===(i=q(this,fe,"f"))||void 0===i?void 0:i[e]},this.getOldSyntaxLine=e=>{var i;return null===(i=q(this,ge,"f"))||void 0===i?void 0:i[e]},this.getNewPlainLine=e=>{var i;return null===(i=q(this,ue,"f"))||void 0===i?void 0:i[e]},this.getNewSyntaxLine=e=>{var i;return null===(i=q(this,ce,"f"))||void 0===i?void 0:i[e]},this.subscribe=e=>(q(this,Ie,"f").push(e),()=>{Q(this,Ie,q(this,Ie,"f").filter((i=>i!==e)),"f")}),this.notifyAll=e=>{var i;Q(this,Fe,(i=q(this,Fe,"f"),++i),"f"),q(this,Ie,"f").forEach((i=>{e&&i.isSyncExternal||i()})),q(this,De,"f").forEach(((e,i)=>{i.notifyAll(!0)}))},this.getUpdateCount=()=>q(this,Fe,"f"),this.getExpandEnabled=()=>!q(this,_e,"f"),this.getBundle=()=>{const e=q(this,ye,"f"),i=q(this,Ne,"f"),t=q(this,Se,"f"),n=q(this,He,"f"),s=q(this,oe,"f"),l=q(this,ae,"f"),d=q(this,fe,"f"),a=q(this,ge,"f"),h=q(this,pe,"f"),o=q(this,re,"f"),r=q(this,he,"f"),f=q(this,ue,"f"),u=q(this,ce,"f"),g=q(this,Le,"f"),c=this.splitLineLength,p=this.unifiedLineLength,L=this.fileLineLength,v=this.additionLength,m=this.deletionLength,x=q(this,_e,"f"),w=q(this,$e,"f"),b=q(this,Ee,"f"),I=this.hasSomeLineCollapsed,y=q(this,Re,"f"),N=q(this,je,"f");return{hasInitRaw:e,hasInitSyntax:i,hasBuildSplit:t,hasBuildUnified:n,oldFileLines:s,oldFileDiffLines:l,oldFilePlainLines:d,oldFileSyntaxLines:a,oldFilePlaceholderLines:h,newFileLines:o,newFileDiffLines:r,newFilePlainLines:f,newFileSyntaxLines:u,newFilePlaceholderLines:g,splitLineLength:c,unifiedLineLength:p,fileLineLength:L,additionLength:v,deletionLength:m,splitLeftLines:q(this,ve,"f"),splitRightLines:q(this,me,"f"),splitHunkLines:q(this,xe,"f"),unifiedLines:q(this,we,"f"),unifiedHunkLines:q(this,be,"f"),highlighterName:w,highlighterType:b,composeByDiff:x,hasSomeLineCollapsed:I,hasExpandSplitAll:y,hasExpandUnifiedAll:N,version:this._version_,theme:q(this,Me,"f"),enableTemplate:q(this,Te,"f"),isFullMerge:!1}},this.mergeBundle=(e,i=!0)=>{Q(this,ye,e.hasInitRaw,"f"),Q(this,Ne,e.hasInitSyntax,"f"),Q(this,Se,e.hasBuildSplit,"f"),Q(this,He,e.hasBuildUnified,"f"),Q(this,_e,e.composeByDiff,"f"),Q(this,$e,e.highlighterName,"f"),Q(this,Ee,e.highlighterType,"f"),Q(this,oe,e.oldFileLines,"f"),Q(this,ae,e.oldFileDiffLines,"f"),Q(this,fe,e.oldFilePlainLines,"f"),Q(this,ge,e.oldFileSyntaxLines,"f"),Q(this,pe,e.oldFilePlaceholderLines,"f"),Q(this,re,e.newFileLines,"f"),Q(this,he,e.newFileDiffLines,"f"),Q(this,ue,e.newFilePlainLines,"f"),Q(this,ce,e.newFileSyntaxLines,"f"),Q(this,Le,e.newFilePlaceholderLines,"f"),this.splitLineLength=e.splitLineLength,this.unifiedLineLength=e.unifiedLineLength,this.fileLineLength=e.fileLineLength,this.additionLength=e.additionLength,this.deletionLength=e.deletionLength,this.hasSomeLineCollapsed=e.hasSomeLineCollapsed,Q(this,Re,e.hasExpandSplitAll,"f"),Q(this,je,e.hasExpandUnifiedAll,"f"),Q(this,ve,e.splitLeftLines,"f"),Q(this,me,e.splitRightLines,"f"),Q(this,xe,e.splitHunkLines,"f"),Q(this,we,e.unifiedLines,"f"),Q(this,be,e.unifiedHunkLines,"f"),Q(this,Me,e.theme,"f"),Q(this,Te,e.enableTemplate,"f"),Q(this,ke,!0,"f"),i&&this.notifyAll()},this._getHighlighterName=()=>q(this,$e,"f")||"",this._getIsPureDiffRender=()=>q(this,_e,"f"),this._getTheme=()=>q(this,Me,"f"),this._addClonedInstance=e=>{const i=()=>{this._notifyOthers(e),this._mergeFullBundle(e._getFullBundle(),!1)};i.isSyncExternal=!0;const t=e.subscribe(i);q(this,De,"f").set(e,t)},this._notifyOthers=e=>{q(this,De,"f").forEach(((i,t)=>{t!==e&&t.notifyAll(!0)}))},this._delClonedInstance=e=>{const i=q(this,De,"f").get(e);null===i||void 0===i||i(),q(this,De,"f").delete(e)},this._getFullBundle=()=>{const e=this.getBundle(),i=q(this,ne,"f"),t=q(this,se,"f"),n=q(this,de,"f"),s=q(this,le,"f");return Object.assign(Object.assign({},e),{oldFileResult:i,newFileResult:t,diffLines:n,diffListResults:s,isFullMerge:!q(this,ke,"f")||q(this,Ce,"f")})},this._mergeFullBundle=(e,i=!0)=>{this.mergeBundle(e,i);try{Q(this,ne,e.oldFileResult?ee.createInstance(e.oldFileResult):null,"f"),Q(this,se,e.newFileResult?ee.createInstance(e.newFileResult):null,"f"),Q(this,de,e.diffLines,"f"),Q(this,le,e.diffListResults,"f"),Q(this,Ce,e.isFullMerge,"f")}catch(t){}},this._destroy=()=>{this.clearId(),q(this,Ie,"f").splice(0,q(this,Ie,"f").length),q(this,De,"f").forEach((e=>e())),q(this,De,"f").clear()},this.clear=()=>{this._destroy(),Q(this,ne,null,"f"),Q(this,se,null,"f"),Q(this,de,null,"f"),Q(this,le,null,"f"),Q(this,he,null,"f"),Q(this,ae,null,"f"),Q(this,re,null,"f"),Q(this,oe,null,"f"),Q(this,ce,null,"f"),Q(this,ge,null,"f"),Q(this,xe,null,"f"),Q(this,ve,null,"f"),Q(this,me,null,"f"),Q(this,be,null,"f"),Q(this,we,null,"f"),Q(this,Me,void 0,"f")},Object.defineProperty(this,"__v_skip",{value:!0});const h=Array.from(new Set(s));this._oldFileName=e,this._newFileName=t,this._diffList=h,this._oldFileLang=D(l||e||d||t)||"txt",this._newFileLang=D(d||t||l||e)||"txt",this._oldFileContent=i,this._newFileContent=n,this.initId()}initId(){let e="--"+Math.random().toString().slice(2);for(;ei.has(e);)e="--"+Math.random().toString().slice(2);ei.add(e),Q(this,We,e,"f")}getId(){return q(this,We,"f")}clearId(){ei.delete(q(this,We,"f"))}initTheme(e){Q(this,Oe,q(this,Me,"f"),"f"),Q(this,Me,e||q(this,Me,"f")||"light","f")}initRaw(){q(this,ye,"f")||(q(this,te,"m",Be).call(this),q(this,te,"m",Ue).call(this),q(this,te,"m",Ae).call(this),q(this,te,"m",Ge).call(this),q(this,te,"m",Pe).call(this),Q(this,ye,!0,"f"))}initSyntax({registerHighlighter:e}={}){(!q(this,Ne,"f")||q(this,Oe,"f")&&q(this,Me,"f")!==q(this,Oe,"f"))&&(q(this,te,"m",Qe).call(this,{registerHighlighter:e}),q(this,te,"m",Ge).call(this),Q(this,Ne,!0,"f"))}init(){this.initRaw(),this.initSyntax()}enableTemplate(){Q(this,Te,!0,"f")}disableTemplate(){Q(this,Te,!1,"f")}getIsEnableTemplate(){return q(this,Te,"f")}buildSplitDiffLines(){var e,i,t,n,s,l;if(q(this,Se,"f"))return;let d=1,a=1,h=!0,o=1/0;const r=(null===(e=q(this,ne,"f"))||void 0===e?void 0:e.maxLineNumber)||0,f=(null===(i=q(this,se,"f"))||void 0===i?void 0:i.maxLineNumber)||0;for(0;d<=r||a<=f;){const e=q(this,te,"m",ze).call(this,d),i=q(this,te,"m",Ve).call(this,a),r=q(this,te,"m",Je).call(this,d),f=q(this,te,"m",Ke).call(this,a),u=b.prototype.isIncludeableLine.call(e||{}),g=b.prototype.isIncludeableLine.call(i||{}),c=q(this,me,"f").length,p=!e&&!i;if(e&&!i){if(e.newLineNumber&&e.newLineNumber>a){a++;continue}null!==e.newLineNumber&&void 0!==e.newLineNumber||a++}if(i&&!e){if(i.oldLineNumber&&i.oldLineNumber>d){d++;continue}null!==i.oldLineNumber&&void 0!==i.oldLineNumber||d++}if(!e&&!r&&!i&&!f)break;if(!e&&!i){if((null===(t=q(this,pe,"f"))||void 0===t?void 0:t[d])&&(null===(n=q(this,Le,"f"))||void 0===n?void 0:n[a])){d++,a++;continue}if(!r&&(null===(s=q(this,Le,"f"))||void 0===s?void 0:s[a])){a++;continue}if(!f&&(null===(l=q(this,pe,"f"))||void 0===l?void 0:l[d])){d++;continue}}if(u&&g||!u&&!g?(q(this,ve,"f").push({lineNumber:d++,value:r,diff:e,isHidden:p,_isHidden:p}),q(this,me,"f").push({lineNumber:a++,value:f,diff:i,isHidden:p,_isHidden:p})):u?(q(this,ve,"f").push({lineNumber:d++,value:r,diff:e,isHidden:p,_isHidden:p}),q(this,me,"f").push({})):g&&(q(this,ve,"f").push({}),q(this,me,"f").push({lineNumber:a++,value:f,diff:i,isHidden:p,_isHidden:p})),!h&&p&&(o=c),p&&(this.hasSomeLineCollapsed=!0),h=p,(null===e||void 0===e?void 0:e.prevHunkLine)||(null===i||void 0===i?void 0:i.prevHunkLine)){const t=(null===e||void 0===e?void 0:e.prevHunkLine)||i.prevHunkLine;t.isFirst?(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:0,endHiddenIndex:t.hunkInfo.newStartIndex-1,plainText:t.text,_startHiddenIndex:0,_endHiddenIndex:t.hunkInfo.newStartIndex-1,_plainText:t.text}),o=1/0):Number.isFinite(o)&&(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:o,endHiddenIndex:c,plainText:t.text,_startHiddenIndex:o,_endHiddenIndex:c,_plainText:t.text}),o=1/0),Q(this,xe,Object.assign(Object.assign({},q(this,xe,"f")),{[c]:t}),"f")}}if(Number.isFinite(o)){const e=new b("",w.Hunk,null,null,null);e.isLast=!0,e.splitInfo={startHiddenIndex:o,endHiddenIndex:q(this,me,"f").length,_startHiddenIndex:o,_endHiddenIndex:q(this,me,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},Q(this,xe,Object.assign(Object.assign({},q(this,xe,"f")),{[q(this,me,"f").length]:e}),"f"),o=1/0}this.splitLineLength=q(this,me,"f").length,Q(this,Se,!0,"f"),this.notifyAll()}buildUnifiedDiffLines(){var e,i,t,n,s,l;if(q(this,He,"f"))return;let d=1,a=1,h=!0,o=1/0;const r=(null===(e=q(this,ne,"f"))||void 0===e?void 0:e.maxLineNumber)||0,f=(null===(i=q(this,se,"f"))||void 0===i?void 0:i.maxLineNumber)||0;for(0;d<=r||a<=f;){const e=q(this,te,"m",Je).call(this,d),i=q(this,te,"m",ze).call(this,d),r=q(this,te,"m",Ke).call(this,a),f=q(this,te,"m",Ve).call(this,a),u=b.prototype.isIncludeableLine.call(i||{}),g=b.prototype.isIncludeableLine.call(f||{}),c=q(this,we,"f").length,p=!i&&!f;if(i&&!f){if(i.newLineNumber&&i.newLineNumber>a){a++;continue}null!==i.newLineNumber&&void 0!==i.newLineNumber||a++}if(f&&!i){if(f.oldLineNumber&&f.oldLineNumber>d){d++;continue}null!==f.oldLineNumber&&void 0!==f.oldLineNumber||d++}if(!e&&!r&&!f&&!i)break;if(!i&&!f){if((null===(t=q(this,pe,"f"))||void 0===t?void 0:t[d])&&(null===(n=q(this,Le,"f"))||void 0===n?void 0:n[a])){d++,a++;continue}if(!e&&(null===(s=q(this,Le,"f"))||void 0===s?void 0:s[a])){a++;continue}if(!r&&(null===(l=q(this,pe,"f"))||void 0===l?void 0:l[d])){d++;continue}}if(u||g?u?q(this,we,"f").push({oldLineNumber:d++,value:e,diff:i,isHidden:p,_isHidden:p}):g&&q(this,we,"f").push({newLineNumber:a++,value:r,diff:f,isHidden:p,_isHidden:p}):q(this,we,"f").push({oldLineNumber:d++,newLineNumber:a++,value:r,diff:f,isHidden:p,_isHidden:p}),!h&&p&&(o=c),p&&(this.hasSomeLineCollapsed=!0),h=p,(null===i||void 0===i?void 0:i.prevHunkLine)||(null===f||void 0===f?void 0:f.prevHunkLine)){const e=(null===i||void 0===i?void 0:i.prevHunkLine)||f.prevHunkLine;e.isFirst?(e.unifiedInfo=Object.assign(Object.assign({},e.hunkInfo),{startHiddenIndex:0,endHiddenIndex:e.hunkInfo.newStartIndex-1,plainText:e.text,_startHiddenIndex:0,_endHiddenIndex:e.hunkInfo.newStartIndex-1,_plainText:e.text}),o=1/0):Number.isFinite(o)&&(e.unifiedInfo=Object.assign(Object.assign({},e.hunkInfo),{startHiddenIndex:o,endHiddenIndex:c,plainText:e.text,_startHiddenIndex:o,_endHiddenIndex:c,_plainText:e.text}),o=1/0),Q(this,be,Object.assign(Object.assign({},q(this,be,"f")),{[c]:e}),"f")}}if(Number.isFinite(o)){const e=new b("",w.Hunk,null,null,null);e.isLast=!0,e.unifiedInfo={startHiddenIndex:o,endHiddenIndex:q(this,we,"f").length,_startHiddenIndex:o,_endHiddenIndex:q(this,we,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},Q(this,be,Object.assign(Object.assign({},q(this,be,"f")),{[q(this,we,"f").length]:e}),"f"),o=1/0}this.unifiedLineLength=q(this,we,"f").length,Q(this,He,!0,"f"),this.notifyAll()}get hasExpandSplitAll(){return q(this,Re,"f").state}get hasExpandUnifiedAll(){return q(this,je,"f").state}}var ti,ni;ne=new WeakMap,se=new WeakMap,le=new WeakMap,de=new WeakMap,ae=new WeakMap,he=new WeakMap,oe=new WeakMap,re=new WeakMap,fe=new WeakMap,ue=new WeakMap,ge=new WeakMap,ce=new WeakMap,pe=new WeakMap,Le=new WeakMap,ve=new WeakMap,me=new WeakMap,xe=new WeakMap,we=new WeakMap,be=new WeakMap,Ie=new WeakMap,ye=new WeakMap,Ne=new WeakMap,Se=new WeakMap,He=new WeakMap,Fe=new WeakMap,_e=new WeakMap,ke=new WeakMap,Te=new WeakMap,Ce=new WeakMap,$e=new WeakMap,Ee=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Re=new WeakMap,je=new WeakMap,We=new WeakMap,De=new WeakMap,te=new WeakSet,Ae=function(){this._diffList&&Q(this,le,this._diffList.map((e=>G.parse(e))),"f")},Be=function(){(this._oldFileContent||this._newFileContent)&&(this._oldFileContent&&(Q(this,ne,ie(this._oldFileContent,this._oldFileLang,q(this,Me,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),q(this,ne,"f").enableTemplate=q(this,Te,"f")),this._newFileContent&&(Q(this,se,ie(this._newFileContent,this._newFileLang,q(this,Me,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),q(this,se,"f").enableTemplate=q(this,Te,"f")))},Ue=function(){var e,i,t,n,s,l,d,a;null===(e=q(this,ne,"f"))||void 0===e||e.doRaw(),Q(this,oe,null===(i=q(this,ne,"f"))||void 0===i?void 0:i.rawFile,"f"),Q(this,fe,null===(t=q(this,ne,"f"))||void 0===t?void 0:t.plainFile,"f"),null===(n=q(this,se,"f"))||void 0===n||n.doRaw(),Q(this,re,null===(s=q(this,se,"f"))||void 0===s?void 0:s.rawFile,"f"),Q(this,ue,null===(l=q(this,se,"f"))||void 0===l?void 0:l.plainFile,"f"),this.fileLineLength=Math.max(this.fileLineLength,(null===(d=q(this,ne,"f"))||void 0===d?void 0:d.maxLineNumber)||0,(null===(a=q(this,se,"f"))||void 0===a?void 0:a.maxLineNumber)||0)},Pe=function(){if(this._oldFileContent&&this._newFileContent)return;const e={},i={};if(this._oldFileContent||this._newFileContent){if(q(this,ne,"f")){let e=1,i=1,t="",n=!1;for(;i<=q(this,ne,"f").maxLineNumber;){const s=q(this,te,"m",Ve).call(this,e++),l=q(this,te,"m",ze).call(this,i);s?(t+=s.text,i=s.oldLineNumber?s.oldLineNumber+1:i):(l||(t+=q(this,te,"m",Je).call(this,i)),i++),!n&&s&&l&&(n=n||s.noTrailingNewLine!==l.noTrailingNewLine)}if(!n&&t===this._oldFileContent)return;this._newFileContent=t,Q(this,se,ie(this._newFileContent,this._newFileLang,q(this,Me,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),q(this,se,"f").enableTemplate=q(this,Te,"f")}else if(q(this,se,"f")){let e=1,i=1,t="",n=!1;for(;i<=q(this,se,"f").maxLineNumber;){const s=q(this,te,"m",ze).call(this,e++),l=q(this,te,"m",Ve).call(this,i);s?(t+=s.text,i=s.newLineNumber?s.newLineNumber+1:i):(l||(t+=q(this,te,"m",Ke).call(this,i)),i++),!n&&l&&s&&(n=n||l.noTrailingNewLine!==s.noTrailingNewLine)}if(!n&&t===this._newFileContent)return;this._oldFileContent=t,Q(this,ne,ie(this._oldFileContent,this._oldFileLang,q(this,Me,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),q(this,ne,"f").enableTemplate=q(this,Te,"f")}}else{let t=1,n=1,s="",l="",d=!1;for(;n<=this.diffLineLength||t<=this.diffLineLength;){const a=n++,h=t++,o=q(this,te,"m",ze).call(this,a),r=q(this,te,"m",Ve).call(this,h);o?s+=o.text:(s+="\n",e[a]=!0),r?l+=r.text:(l+="\n",i[h]=!0),!d&&o&&r&&(d=d||o.noTrailingNewLine!==r.noTrailingNewLine)}if(!d&&s===l)return;this._oldFileContent=s,this._newFileContent=l,Q(this,ne,ie(this._oldFileContent,this._oldFileLang,q(this,Me,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),q(this,ne,"f").enableTemplate=q(this,Te,"f"),Q(this,se,ie(this._newFileContent,this._newFileLang,q(this,Me,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),q(this,se,"f").enableTemplate=q(this,Te,"f"),Q(this,pe,e,"f"),Q(this,Le,i,"f"),Q(this,_e,!0,"f")}q(this,te,"m",Ue).call(this)},Ge=function(){var e;if(!(null===(e=q(this,le,"f"))||void 0===e?void 0:e.length))return;const i=e=>q(this,te,"m",Ke).call(this,e),t=e=>q(this,te,"m",Je).call(this,e),n=e=>q(this,te,"m",Ye).call(this,e),s=e=>q(this,te,"m",Xe).call(this,e);Q(this,de,[],"f"),this.additionLength=0,this.deletionLength=0;const l=[];q(this,le,"f").forEach((e=>{e.hunks.forEach((e=>{let d=[],a=[];e.lines.forEach((e=>{e.type===w.Add?(d.push(e),this.additionLength++):e.type===w.Delete?(a.push(e),this.deletionLength++):(A(d,a,{getAdditionRaw:i,getDeletionRaw:t,getAdditionSyntax:n,getDeletionSyntax:s}),d=[],a=[]),l.push(e)})),A(d,a,{getAdditionRaw:i,getDeletionRaw:t,getAdditionSyntax:n,getDeletionSyntax:s})}))}));let d=null;Q(this,de,l.map(((e,i)=>{var t;const n=e;if(n.index=i,n.isFirst=0===i,n.type===w.Hunk){const e=null===(t=n.text.split("@@"))||void 0===t?void 0:t[1].split(" ").filter(Boolean),i=(null===e||void 0===e?void 0:e[0])||"",s=(null===e||void 0===e?void 0:e[1])||"",[l,a]=i.split(","),[h,o]=s.split(",");n.hunkInfo={oldStartIndex:-Number(l),oldLength:Number(a),newStartIndex:+Number(h),newLength:Number(o),_oldStartIndex:-Number(l),_oldLength:Number(a),_newStartIndex:+Number(h),_newLength:Number(o)},d=n}else if(n.type===w.Context){const i=e;d&&(i.prevHunkLine=d,d=null)}else d=null;return n})),"f"),Q(this,ae,{},"f"),Q(this,he,{},"f");q(this,de,"f").forEach((e=>{e.oldLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,e.oldLineNumber),q(this,ae,"f")[e.oldLineNumber]=e),e.newLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,e.newLineNumber),q(this,he,"f")[e.newLineNumber]=e)}))},qe=function({registerHighlighter:e}){var i,t,n,s;null===(i=q(this,ne,"f"))||void 0===i||i.doSyntax({registerHighlighter:e,theme:q(this,Me,"f")}),Q(this,ge,null===(t=q(this,ne,"f"))||void 0===t?void 0:t.syntaxFile,"f"),null===(n=q(this,se,"f"))||void 0===n||n.doSyntax({registerHighlighter:e,theme:q(this,Me,"f")}),Q(this,ce,null===(s=q(this,se,"f"))||void 0===s?void 0:s.syntaxFile,"f")},Qe=function({registerHighlighter:e}={}){var i,t,n,s;"class"!==q(this,Ee,"f")&&(q(this,ke,"f")&&!q(this,Ce,"f")||(q(this,te,"m",qe).call(this,{registerHighlighter:e}),Q(this,$e,(null===(i=q(this,ne,"f"))||void 0===i?void 0:i.highlighterName)||(null===(t=q(this,se,"f"))||void 0===t?void 0:t.highlighterName)||q(this,$e,"f"),"f"),Q(this,Ee,(null===(n=q(this,ne,"f"))||void 0===n?void 0:n.highlighterType)||(null===(s=q(this,se,"f"))||void 0===s?void 0:s.highlighterType)||q(this,Ee,"f"),"f")))},ze=function(e){var i;if(e)return null===(i=q(this,ae,"f"))||void 0===i?void 0:i[e]},Ve=function(e){var i;if(e)return null===(i=q(this,he,"f"))||void 0===i?void 0:i[e]},Je=function(e){var i;return null===(i=q(this,oe,"f"))||void 0===i?void 0:i[e]},Ke=function(e){var i;return null===(i=q(this,re,"f"))||void 0===i?void 0:i[e]},Xe=function(e){var i;return null===(i=q(this,ge,"f"))||void 0===i?void 0:i[e]},Ye=function(e){var i;return null===(i=q(this,ce,"f"))||void 0===i?void 0:i[e]},function(e){e[e.hunk=1]="hunk",e[e.content=2]="content",e[e.widget=3]="widget",e[e.extend=4]="extend"}(ti||(ti={})),function(e){e[e.old=1]="old",e[e.new=2]="new"}(ni||(ni={}))}}]);