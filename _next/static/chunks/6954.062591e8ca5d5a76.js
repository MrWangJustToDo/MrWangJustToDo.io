"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6954],{56954:function(i,e,t){t.d(e,{gQ:function(){return l.gQ},uN:function(){return Fi}});t(27497);var n,s,l=t(19515);!function(i){i.None="None",i.Up="Up",i.Down="Down",i.Both="Both",i.Short="Short"}(n||(n={}));class h{constructor(i,e,t,n,s){this.header=i,this.lines=e,this.unifiedDiffStart=t,this.unifiedDiffEnd=n,this.expansionType=s}equals(i){return this===i||this.header.equals(i.header)&&this.unifiedDiffStart===i.unifiedDiffStart&&this.unifiedDiffEnd===i.unifiedDiffEnd&&this.expansionType===i.expansionType&&this.lines.length===i.lines.length&&this.lines.every(((e,t)=>e.equals(i.lines[t])))}}class d{constructor(i,e,t,n){this.oldStartLine=i,this.oldLineCount=e,this.newStartLine=t,this.newLineCount=n}toDiffLineRepresentation(){return`@@ -${this.oldStartLine},${this.oldLineCount} +${this.newStartLine},${this.newLineCount} @@`}equals(i){return this.oldStartLine===i.oldStartLine&&this.oldLineCount===i.oldLineCount&&this.newStartLine===i.newStartLine&&this.oldStartLine===i.oldStartLine}}!function(i){i[i.CRLF=1]="CRLF",i[i.CR=2]="CR",i[i.LF=3]="LF",i[i.NEWLINE=4]="NEWLINE",i[i.NORMAL=5]="NORMAL",i[i.NULL=6]="NULL"}(s||(s={}));function o(i){return i.location+i.length}function a(i,e,t,n,s){const l=Math.min(e.length,n.length),h=s?o(e)-1:e.location,d=s?o(n)-1:n.location,a=s?-1:1;let r=0;for(;Math.abs(r)<l&&i[h+r]===t[d+r];)r+=a;return Math.abs(r)}function r(i){return 0===i.trim().length||i.length>=1e3}function f(i,e){const t=i.text,n=e.text,l=t.slice(-2),h=n.slice(-2),d="\r\n"===l?s.CRLF:l.endsWith("\r")?s.CR:l.endsWith("\n")?s.LF:s.NULL,o="\r\n"===h?s.CRLF:h.endsWith("\r")?s.CR:h.endsWith("\n")?s.LF:s.NULL,a=i.noTrailingNewLine!==e.noTrailingNewLine;return d===o?{addSymbol:void 0,addString:t,delSymbol:void 0,delString:n}:{addSymbol:a?i.noTrailingNewLine?s.NEWLINE:s.NORMAL:d,addString:d===s.CRLF?t.slice(0,-2):d===s.CR||d===s.LF?t.slice(0,-1):t,delSymbol:a?e.noTrailingNewLine?s.NEWLINE:s.NORMAL:o,delString:o===s.CRLF?n.slice(0,-2):o===s.CR||o===s.LF?n.slice(0,-1):n}}function u(i,e){const t=i.text,n=e.text,{addString:s,delString:l,addSymbol:h,delSymbol:d}=f(i,e);if(s===l&&h&&d)return{addRange:{range:{location:s.length,length:t.length-s.length},hasLineChange:!0,newLineSymbol:h},delRange:{range:{location:l.length,length:n.length-l.length},hasLineChange:!0,newLineSymbol:d}};let o={location:0,length:l.length},u={location:0,length:s.length};if(r(t)||r(n))return u.length=0,o.length=0,{addRange:{range:u},delRange:{range:o}};const g=a(l,o,s,u,!1);o={location:o.location+g,length:o.length-g},u={location:u.location+g,length:u.length-g};const L=a(l,o,s,u,!0);return o.length-=L,u.length-=L,{addRange:{range:u,hasLineChange:(s.slice(0,u.location)+s.slice(u.location+u.length)).trim().length>0},delRange:{range:o,hasLineChange:(l.slice(0,o.location)+l.slice(o.location+o.length)).trim().length>0}}}var g;!function(i){i[i.Context=0]="Context",i[i.Add=1]="Add",i[i.Delete=2]="Delete",i[i.Hunk=3]="Hunk"}(g||(g={}));class L{constructor(i,e,t,n,s,l=!1,h,d){this.text=i,this.type=e,this.originalLineNumber=t,this.oldLineNumber=n,this.newLineNumber=s,this.noTrailingNewLine=l,this.changes=h,this.diffChanges=d}withNoTrailingNewLine(i){return new L(this.text,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,i)}isIncludeableLine(){return this.type===g.Add||this.type===g.Delete}equals(i){return this.text===i.text&&this.type===i.type&&this.originalLineNumber===i.originalLineNumber&&this.oldLineNumber===i.oldLineNumber&&this.newLineNumber===i.newLineNumber&&this.noTrailingNewLine===i.noTrailingNewLine}clone(i){return new L(i,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,this.noTrailingNewLine)}}function c(i,e){throw new Error(e)}function p(i){var e,t;if(0===i.length)return 0;for(let n=i.length-1;n>=0;n--){const s=i[n];for(let i=s.lines.length-1;i>=0;i--){const n=s.lines[i];if(n.type===g.Hunk)continue;const l=null!==(e=n.newLineNumber)&&void 0!==e?e:0,h=null!==(t=n.oldLineNumber)&&void 0!==t?t:0;return l>h?l:h}}return 0}const w=i=>{const e=i.lastIndexOf(".");return i.slice(e+1)},v=(i,e,{getAdditionRaw:t,getDeletionRaw:n})=>{if(i.length===e.length){const s=i.length;for(let l=0;l<s;l++){const s=i[l],h=e[l],d=s.clone(t(s.newLineNumber)||s.text||""),o=h.clone(n(h.oldLineNumber)||h.text||""),{addRange:a,delRange:r}=u(d,o);s.changes=a,h.changes=r}}},x=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/,I=/[\u202A-\u202E]|[\u2066-\u2069]/,m=new Set(["+","-"," ","\\"]);const b=new class{constructor(){Object.defineProperty(this,"__v_skip",{value:!0}),this.reset()}reset(){this.ls=0,this.le=-1,this.text=""}nextLine(){return this.ls=this.le+1,!(this.ls>=this.text.length)&&(this.le=this.text.indexOf("\n",this.ls),-1===this.le&&(this.le=this.text.length),this.ls!==this.le)}readLine(i){return i?this.nextLine()?this.text.substring(this.ls,this.le):null:this.nextLine()?this.text.substring(this.ls+1,this.le+1):null}lineStartsWith(i){return this.text.startsWith(i,this.ls)}lineEndsWith(i){return this.text.endsWith(i,this.le)}peek(){const i=this.le+1;return i<this.text.length?this.text[i]:null}parseDiffHeader(){for(;this.nextLine();){if(this.lineStartsWith("Binary files ")&&this.lineEndsWith("differ"))return{isBinary:!0};if(this.lineStartsWith("+++"))return{isBinary:!1}}return null}numberFromGroup(i,e,t=null){const n=i[e];if(!n){if(!t)throw new Error(`Group ${e} missing from regexp match and no defaultValue was provided`);return t}const s=parseInt(n,10);if(isNaN(s))throw new Error(`Could not parse capture group ${e} into number: ${n}`);return s}parseHunkHeader(i){const e=x.exec(i);if(!e)throw new Error("Invalid hunk header format");const t=this.numberFromGroup(e,1),n=this.numberFromGroup(e,2,1),s=this.numberFromGroup(e,3),l=this.numberFromGroup(e,4,1);return new d(t,n,s,l)}parseLinePrefix(i){return i&&i.length&&m.has(i[0])?i[0]:null}parseHunk(i,e,t){const s=this.readLine(!0);if(!s)throw new Error("Expected hunk header but reached end of diff");const l=this.parseHunkHeader(s),d=new Array;let o;d.push(new L(s,g.Hunk,1,null,null));let a=l.oldStartLine,r=l.newStartLine,f=i;for(;o=this.parseLinePrefix(this.peek());){const i=this.readLine(!1);if(!i)throw new Error("Expected unified diff line but reached end of diff");if("\\"===o){if(i.length<12)throw new Error('Expected "no newline at end of file" marker to be at least 12 bytes long');const e=d.length-1,t=d[e];d[e]=t.withNoTrailingNewLine(!0);continue}let e;if(f++,"+"===o)e=new L(i,g.Add,f,null,r++);else if("-"===o)e=new L(i,g.Delete,f,a++,null);else{if(" "!==o)return c(0,`Unknown DiffLinePrefix: ${o}`);e=new L(i,g.Context,f,a++,r++)}d.push(e)}if(1===d.length)throw new Error("Malformed diff, empty hunk");return new h(l,d,i,i+d.length-1,function(i,e,t){const s=null===t?1/0:e.oldStartLine-t.header.oldStartLine-t.header.oldLineCount;return 0===i?e.oldStartLine>1&&e.newStartLine>1?n.Up:n.None:s<=40?n.Short:n.Both}(e,l,t))}parse(i){this.text=i;try{const e=this.parseDiffHeader(),t=this.le,n=this.text.substring(0,t);if(!e)return{header:n,contents:"",hunks:[],isBinary:!1,maxLineNumber:0,hasHiddenBidiChars:!1};if(e.isBinary)return{header:n,contents:"",hunks:[],isBinary:!0,maxLineNumber:0,hasHiddenBidiChars:!1};const s=new Array;let l=0,h=null;do{const i=this.parseHunk(l,s.length,h);s.push(i),h=i,l+=i.lines.length}while(this.peek());return{header:n,contents:this.text.substring(t+1,this.le).replace(/\n\\ No newline at end of file/g,""),hunks:s,isBinary:e.isBinary,maxLineNumber:p(s),hasHiddenBidiChars:I.test(i)}}finally{this.reset()}}};function H(i,e,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(i):n?n.value:e.get(i)}function N(i,e,t,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?i!==e||!s:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(i,t):s?s.value=t:e.set(i,t),t}var _,S,F,y,k;"function"===typeof SuppressedError&&SuppressedError;class C extends Map{constructor(){super(...arguments),_.add(this),S.set(this,[]),F.set(this,30)}get maxLength(){return H(this,F,"f")}setMaxLength(i){N(this,F,i,"f"),H(this,_,"m",y).call(this)}set(i,e){return H(this,F,"f")<=0||this.has(i)?this:(H(this,S,"f").push(i),H(this,_,"m",y).call(this),super.set(i,e))}}S=new WeakMap,F=new WeakMap,_=new WeakSet,y=function(){for(;H(this,S,"f").length>H(this,F,"f");){const i=H(this,S,"f").shift();this.delete(i)}};const E=new C;E.setMaxLength(50),E.name="@git-diff-view/core";class O{static createInstance(i){const e=new O(null===i||void 0===i?void 0:i.raw,null===i||void 0===i?void 0:i.lang,null===i||void 0===i?void 0:i.fileName);return e.ast=null===i||void 0===i?void 0:i.ast,e.rawFile=null===i||void 0===i?void 0:i.rawFile,e.hasDoRaw=null===i||void 0===i?void 0:i.hasDoRaw,e.rawLength=null===i||void 0===i?void 0:i.rawLength,e.syntaxFile=null===i||void 0===i?void 0:i.syntaxFile,e.hasDoSyntax=null===i||void 0===i?void 0:i.hasDoSyntax,e.syntaxLength=null===i||void 0===i?void 0:i.syntaxLength,e.highlighterName=null===i||void 0===i?void 0:i.highlighterName,e.highlighterType=null===i||void 0===i?void 0:i.highlighterType,e.maxLineNumber=null===i||void 0===i?void 0:i.maxLineNumber,e}constructor(i,e,t){k.add(this),this.raw=i,this.lang=e,this.fileName=t,this.rawFile={},this.hasDoRaw=!1,this.syntaxFile={},this.hasDoSyntax=!1,this.maxLineNumber=0,Object.defineProperty(this,"__v_skip",{value:!0})}doSyntax({registerHighlighter:i,theme:e}){if(!this.raw||this.hasDoSyntax)return;const t=i||l.gQ;if(this.syntaxLength)return void 0;if(this.rawLength>t.maxLineToIgnoreSyntax)return void 0;let n=t;try{t.hasRegisteredCurrentLang(this.lang)||(n=l.gQ)}catch(d){n=l.gQ}if(this.ast=n.getAST(this.raw,this.fileName,this.lang,e),!this.ast)return;const{syntaxFileObject:s,syntaxFileLineNumber:h}=n.processAST(this.ast);this.syntaxFile=s,this.syntaxLength=h,this.highlighterName=n.name,this.highlighterType=n.type,this.hasDoSyntax=!0}doRaw(){if(!this.raw||this.hasDoRaw)return;const i=this.raw.split("\n");this.rawLength=i.length,this.maxLineNumber=i.length,this.rawFile={};for(let e=0;e<i.length;e++)this.rawFile[e+1]=e<i.length-1?i[e]+"\n":i[e];this.hasDoRaw=!0}}function T(i,e,t,n,s){let l=i+"--0.0.26--"+t+"--"+e;s&&(l=s+"--0.0.26--"+t+"--"+e);let h=i+"--0.0.26--"+("light"===t?"dark":"light")+"--"+e;if(s&&(h=s+"--0.0.26--"+("light"===t?"dark":"light")+"--"+e),E.has(l))return E.get(l);if(E.has(h)){const i=E.get(h);if("class"===i.highlighterType)return i}const d=new O(i,e,n);return E.set(l,d),d}k=new WeakSet;var M,R,j,W,D,A,B,$,U,P,G,q,Q,V,z,J,K,X,Y,Z,ii,ei,ti,ni,si,li,hi,di,oi,ai,ri,fi,ui,gi,Li,ci,pi,wi,vi,xi,Ii,mi,bi,Hi,Ni;const _i=40,Si=new Set;class Fi{static createInstance(i,e){var t,n,s,l,h,d;const o=new Fi((null===(t=null===i||void 0===i?void 0:i.oldFile)||void 0===t?void 0:t.fileName)||"",(null===(n=null===i||void 0===i?void 0:i.oldFile)||void 0===n?void 0:n.content)||"",(null===(s=null===i||void 0===i?void 0:i.newFile)||void 0===s?void 0:s.fileName)||"",(null===(l=null===i||void 0===i?void 0:i.newFile)||void 0===l?void 0:l.content)||"",(null===i||void 0===i?void 0:i.hunks)||[],(null===(h=null===i||void 0===i?void 0:i.oldFile)||void 0===h?void 0:h.fileLang)||"",(null===(d=null===i||void 0===i?void 0:i.newFile)||void 0===d?void 0:d.fileLang)||"");return e&&(e.isFullMerge?o._mergeFullBundle(e):o.mergeBundle(e)),o}constructor(i,e,t,n,s,l,h,d){M.add(this),this.uuid=d,R.set(this,void 0),j.set(this,void 0),W.set(this,void 0),D.set(this,void 0),A.set(this,void 0),B.set(this,void 0),$.set(this,void 0),U.set(this,void 0),P.set(this,void 0),G.set(this,void 0),q.set(this,void 0),Q.set(this,void 0),V.set(this,[]),z.set(this,[]),J.set(this,void 0),K.set(this,[]),X.set(this,void 0),Y.set(this,[]),Z.set(this,!1),ii.set(this,!1),ei.set(this,!1),ti.set(this,!1),ni.set(this,0),si.set(this,!1),li.set(this,!1),hi.set(this,!1),di.set(this,void 0),oi.set(this,void 0),ai.set(this,"light"),ri.set(this,void 0),fi.set(this,{state:!1}),ui.set(this,{state:!1}),this._version_="0.0.26",this._oldFileName="",this._oldFileContent="",this._oldFileLang="",this._newFileName="",this._newFileContent="",this._newFileLang="",this._diffList=[],this.diffLineLength=0,this.splitLineLength=0,this.unifiedLineLength=0,this.fileLineLength=0,this.additionLength=0,this.deletionLength=0,this.hasSomeLineCollapsed=!1,gi.set(this,""),Li.set(this,new Map),this.getSplitLeftLine=i=>H(this,V,"f")[i],this.getSplitRightLine=i=>H(this,z,"f")[i],this.getSplitHunkLine=i=>{var e;return null===(e=H(this,J,"f"))||void 0===e?void 0:e[i]},this.onSplitHunkExpand=(i,e,t=!0)=>{var n,s;const l=null===(n=H(this,J,"f"))||void 0===n?void 0:n[e];if(l&&l.splitInfo&&!H(this,si,"f")){if("all"===i){for(let i=l.splitInfo.startHiddenIndex;i<l.splitInfo.endHiddenIndex;i++){const e=H(this,V,"f")[i],t=H(this,z,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.splitInfo=Object.assign(Object.assign(Object.assign({},l.splitInfo),l.hunkInfo),{plainText:l.text,startHiddenIndex:l.splitInfo.endHiddenIndex})}else if("down"===i){for(let i=l.splitInfo.startHiddenIndex;i<l.splitInfo.startHiddenIndex+_i;i++){const e=H(this,V,"f")[i],t=H(this,z,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.isLast?l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+_i}):l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+_i,plainText:`@@ -${l.splitInfo.oldStartIndex},${l.splitInfo.oldLength} +${l.splitInfo.newStartIndex},${l.splitInfo.newLength}`})}else{if(l.isLast)return void 0;for(let e=l.splitInfo.endHiddenIndex-_i;e<l.splitInfo.endHiddenIndex;e++){const i=H(this,V,"f")[e],t=H(this,z,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}const i=l.splitInfo.oldStartIndex-_i,t=l.splitInfo.oldLength+_i,n=l.splitInfo.newStartIndex-_i,h=l.splitInfo.newLength+_i;l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{endHiddenIndex:l.splitInfo.endHiddenIndex-_i,oldStartIndex:i,oldLength:t,newStartIndex:n,newLength:h,plainText:`@@ -${i},${t} +${n},${h}`}),null===(s=H(this,J,"f"))||void 0===s||delete s[e],H(this,J,"f")[l.splitInfo.endHiddenIndex]=l}t&&this.notifyAll()}},this.getUnifiedLine=i=>H(this,K,"f")[i],this.getUnifiedHunkLine=i=>{var e;return null===(e=H(this,X,"f"))||void 0===e?void 0:e[i]},this.onUnifiedHunkExpand=(i,e,t=!0)=>{var n,s,l;if(H(this,si,"f"))return;const h=null===(n=H(this,X,"f"))||void 0===n?void 0:n[e];if(h&&h.unifiedInfo){if("all"===i){for(let i=h.unifiedInfo.startHiddenIndex;i<h.unifiedInfo.endHiddenIndex;i++){const e=null===(s=H(this,K,"f"))||void 0===s?void 0:s[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1)}h.unifiedInfo=Object.assign(Object.assign(Object.assign({},h.unifiedInfo),h.hunkInfo),{plainText:h.text,startHiddenIndex:h.unifiedInfo.endHiddenIndex})}else if("down"===i){for(let i=h.unifiedInfo.startHiddenIndex;i<h.unifiedInfo.startHiddenIndex+_i;i++){const e=H(this,K,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1)}h.isLast?h.unifiedInfo=Object.assign(Object.assign({},h.unifiedInfo),{startHiddenIndex:h.unifiedInfo.startHiddenIndex+_i}):h.unifiedInfo=Object.assign(Object.assign({},h.unifiedInfo),{startHiddenIndex:h.unifiedInfo.startHiddenIndex+_i,plainText:`@@ -${h.unifiedInfo.oldStartIndex},${h.unifiedInfo.oldLength} +${h.unifiedInfo.newStartIndex},${h.unifiedInfo.newLength}`})}else{if(h.isLast)return void 0;for(let e=h.unifiedInfo.endHiddenIndex-_i;e<h.unifiedInfo.endHiddenIndex;e++){const i=H(this,K,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1)}const i=h.unifiedInfo.oldStartIndex-_i,t=h.unifiedInfo.oldLength+_i,n=h.unifiedInfo.newStartIndex-_i,s=h.unifiedInfo.newLength+_i;h.unifiedInfo=Object.assign(Object.assign({},h.unifiedInfo),{endHiddenIndex:h.unifiedInfo.endHiddenIndex-_i,oldStartIndex:i,oldLength:t,newStartIndex:n,newLength:s,plainText:`@@ -${i},${t} +${n},${s}`}),null===(l=H(this,X,"f"))||void 0===l||delete l[e],H(this,X,"f")[h.unifiedInfo.endHiddenIndex]=h}t&&this.notifyAll()}},this.onAllExpand=i=>{H(this,si,"f")||("split"===i?(Object.keys(H(this,J,"f")||{}).forEach((i=>{this.onSplitHunkExpand("all",+i,!1)})),H(this,fi,"f").state=!0):(Object.keys(H(this,X,"f")||{}).forEach((i=>{this.onUnifiedHunkExpand("all",+i,!1)})),H(this,ui,"f").state=!0),this.notifyAll())},this.onAllCollapse=i=>{H(this,si,"f")||("split"===i?(Object.values(H(this,V,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values(H(this,z,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values(H(this,J,"f")||{}).forEach((i=>{i.splitInfo&&(i.splitInfo=Object.assign(Object.assign({},i.splitInfo),{oldStartIndex:i.splitInfo._oldStartIndex,oldLength:i.splitInfo._oldLength,newStartIndex:i.splitInfo._newStartIndex,newLength:i.splitInfo._newLength,startHiddenIndex:i.splitInfo._startHiddenIndex,endHiddenIndex:i.splitInfo._endHiddenIndex,plainText:i.splitInfo._plainText}))})),Object.keys(H(this,J,"f")||{}).forEach((i=>{const e=H(this,J,"f")[i];e.splitInfo&&e.splitInfo.endHiddenIndex!==+i&&(delete H(this,J,"f")[i],H(this,J,"f")[e.splitInfo.endHiddenIndex]=e)})),H(this,fi,"f").state=!1):(Object.values(H(this,K,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values(H(this,X,"f")||{}).forEach((i=>{i.unifiedInfo&&(i.unifiedInfo=Object.assign(Object.assign({},i.unifiedInfo),{oldStartIndex:i.unifiedInfo._oldStartIndex,oldLength:i.unifiedInfo._oldLength,newStartIndex:i.unifiedInfo._newStartIndex,newLength:i.unifiedInfo._newLength,startHiddenIndex:i.unifiedInfo._startHiddenIndex,endHiddenIndex:i.unifiedInfo._endHiddenIndex,plainText:i.unifiedInfo._plainText}))})),Object.keys(H(this,X,"f")||{}).forEach((i=>{const e=H(this,X,"f")[i];e.unifiedInfo&&e.unifiedInfo.endHiddenIndex!==+i&&(delete H(this,X,"f")[i],H(this,X,"f")[e.unifiedInfo.endHiddenIndex]=e)})),H(this,ui,"f").state=!1),this.notifyAll())},this.getOldFileContent=()=>{var i;return null===(i=H(this,R,"f"))||void 0===i?void 0:i.raw},this.getNewFileContent=()=>{var i;return null===(i=H(this,j,"f"))||void 0===i?void 0:i.raw},this.getOldSyntaxLine=i=>{var e;return null===(e=H(this,P,"f"))||void 0===e?void 0:e[i]},this.getNewSyntaxLine=i=>{var e;return null===(e=H(this,G,"f"))||void 0===e?void 0:e[i]},this.subscribe=i=>(H(this,Y,"f").push(i),()=>{H(this,Y,"f").filter((e=>e!==i))}),this.notifyAll=i=>{var e;N(this,ni,(e=H(this,ni,"f"),++e),"f"),H(this,Y,"f").forEach((e=>{i&&e.isSyncExternal||e()})),H(this,Li,"f").forEach(((i,e)=>{e.notifyAll(!0)}))},this.getUpdateCount=()=>H(this,ni,"f"),this.getExpandEnabled=()=>!H(this,si,"f"),this.getBundle=()=>{const i=H(this,Z,"f"),e=H(this,ii,"f"),t=H(this,ei,"f"),n=H(this,ti,"f"),s=H(this,$,"f"),l=H(this,A,"f"),h=H(this,P,"f"),d=H(this,q,"f"),o=H(this,U,"f"),a=H(this,B,"f"),r=H(this,G,"f"),f=H(this,Q,"f"),u=this.splitLineLength,g=this.unifiedLineLength,L=this.fileLineLength,c=this.additionLength,p=this.deletionLength,w=H(this,si,"f"),v=H(this,di,"f"),x=H(this,oi,"f"),I=this.hasSomeLineCollapsed,m=H(this,fi,"f"),b=H(this,ui,"f");return{hasInitRaw:i,hasInitSyntax:e,hasBuildSplit:t,hasBuildUnified:n,oldFileLines:s,oldFileDiffLines:l,oldFileSyntaxLines:h,oldFilePlaceholderLines:d,newFileLines:o,newFileDiffLines:a,newFileSyntaxLines:r,newFilePlaceholderLines:f,splitLineLength:u,unifiedLineLength:g,fileLineLength:L,additionLength:c,deletionLength:p,splitLeftLines:H(this,V,"f"),splitRightLines:H(this,z,"f"),splitHunkLines:H(this,J,"f"),unifiedLines:H(this,K,"f"),unifiedHunkLines:H(this,X,"f"),highlighterName:v,highlighterType:x,composeByDiff:w,hasSomeLineCollapsed:I,hasExpandSplitAll:m,hasExpandUnifiedAll:b,version:this._version_,theme:H(this,ai,"f"),isFullMerge:!1}},this.mergeBundle=(i,e=!0)=>{N(this,Z,i.hasInitRaw,"f"),N(this,ii,i.hasInitSyntax,"f"),N(this,ei,i.hasBuildSplit,"f"),N(this,ti,i.hasBuildUnified,"f"),N(this,si,i.composeByDiff,"f"),N(this,di,i.highlighterName,"f"),N(this,oi,i.highlighterType,"f"),N(this,$,i.oldFileLines,"f"),N(this,A,i.oldFileDiffLines,"f"),N(this,P,i.oldFileSyntaxLines,"f"),N(this,q,i.oldFilePlaceholderLines,"f"),N(this,U,i.newFileLines,"f"),N(this,B,i.newFileDiffLines,"f"),N(this,G,i.newFileSyntaxLines,"f"),N(this,Q,i.newFilePlaceholderLines,"f"),this.splitLineLength=i.splitLineLength,this.unifiedLineLength=i.unifiedLineLength,this.fileLineLength=i.fileLineLength,this.additionLength=i.additionLength,this.deletionLength=i.deletionLength,this.hasSomeLineCollapsed=i.hasSomeLineCollapsed,N(this,fi,i.hasExpandSplitAll,"f"),N(this,ui,i.hasExpandUnifiedAll,"f"),N(this,V,i.splitLeftLines,"f"),N(this,z,i.splitRightLines,"f"),N(this,J,i.splitHunkLines,"f"),N(this,K,i.unifiedLines,"f"),N(this,X,i.unifiedHunkLines,"f"),N(this,ai,i.theme,"f"),N(this,li,!0,"f"),e&&this.notifyAll()},this._getHighlighterName=()=>H(this,di,"f"),this._getIsPureDiffRender=()=>H(this,si,"f"),this._getTheme=()=>H(this,ai,"f"),this._addClonedInstance=i=>{const e=()=>{this._notifyOthers(i),this._mergeFullBundle(i._getFullBundle(),!1)};e.isSyncExternal=!0;const t=i.subscribe(e);H(this,Li,"f").set(i,t)},this._notifyOthers=i=>{H(this,Li,"f").forEach(((e,t)=>{t!==i&&t.notifyAll(!0)}))},this._delClonedInstance=i=>{const e=H(this,Li,"f").get(i);null===e||void 0===e||e(),H(this,Li,"f").delete(i)},this._getFullBundle=()=>{const i=this.getBundle(),e=H(this,R,"f"),t=H(this,j,"f"),n=H(this,D,"f"),s=H(this,W,"f");return Object.assign(Object.assign({},i),{oldFileResult:e,newFileResult:t,diffLines:n,diffListResults:s,isFullMerge:!H(this,li,"f")||H(this,hi,"f")})},this._mergeFullBundle=(i,e=!0)=>{this.mergeBundle(i,e);try{N(this,R,i.oldFileResult?O.createInstance(i.oldFileResult):null,"f"),N(this,j,i.newFileResult?O.createInstance(i.newFileResult):null,"f"),N(this,D,i.diffLines,"f"),N(this,W,i.diffListResults,"f"),N(this,hi,i.isFullMerge,"f")}catch(t){}},this._destroy=()=>{this.clearId(),H(this,Y,"f").splice(0,H(this,Y,"f").length),H(this,Li,"f").forEach((i=>i())),H(this,Li,"f").clear()},this.clear=()=>{this._destroy(),N(this,R,null,"f"),N(this,j,null,"f"),N(this,D,null,"f"),N(this,W,null,"f"),N(this,B,null,"f"),N(this,A,null,"f"),N(this,U,null,"f"),N(this,$,null,"f"),N(this,G,null,"f"),N(this,P,null,"f"),N(this,J,null,"f"),N(this,V,null,"f"),N(this,z,null,"f"),N(this,X,null,"f"),N(this,K,null,"f"),N(this,ai,void 0,"f")},Object.defineProperty(this,"__v_skip",{value:!0});const o=Array.from(new Set(s));this._oldFileName=i,this._newFileName=t,this._diffList=o,this._oldFileLang=w(l||i||h||t)||"txt",this._newFileLang=w(h||t||l||i)||"txt",this._oldFileContent=e,this._newFileContent=n,this.initId()}initId(){let i="--"+Math.random().toString().slice(2);for(;Si.has(i);)i="--"+Math.random().toString().slice(2);Si.add(i),N(this,gi,i,"f")}getId(){return H(this,gi,"f")}clearId(){Si.delete(H(this,gi,"f"))}initTheme(i){N(this,ri,H(this,ai,"f"),"f"),N(this,ai,i||H(this,ai,"f")||"light","f")}initRaw(){H(this,Z,"f")||(H(this,M,"m",pi).call(this),H(this,M,"m",wi).call(this),H(this,M,"m",ci).call(this),H(this,M,"m",xi).call(this),H(this,M,"m",vi).call(this),N(this,Z,!0,"f"))}initSyntax({registerHighlighter:i}={}){var e,t,n,s;(!H(this,ii,"f")||H(this,ri,"f")&&H(this,ai,"f")!==H(this,ri,"f"))&&"class"!==H(this,oi,"f")&&(H(this,li,"f")&&!H(this,hi,"f")||(H(this,M,"m",Ii).call(this,{registerHighlighter:i}),N(this,di,(null===(e=H(this,R,"f"))||void 0===e?void 0:e.highlighterName)||(null===(t=H(this,j,"f"))||void 0===t?void 0:t.highlighterName)||H(this,di,"f"),"f"),N(this,oi,(null===(n=H(this,R,"f"))||void 0===n?void 0:n.highlighterType)||(null===(s=H(this,j,"f"))||void 0===s?void 0:s.highlighterType)||H(this,oi,"f"),"f"),N(this,ii,!0,"f")))}init(){this.initRaw(),this.initSyntax()}buildSplitDiffLines(){var i,e,t,n,s,l;if(H(this,ei,"f"))return;let h=1,d=1,o=!0,a=1/0;const r=(null===(i=H(this,R,"f"))||void 0===i?void 0:i.maxLineNumber)||0,f=(null===(e=H(this,j,"f"))||void 0===e?void 0:e.maxLineNumber)||0;for(0;h<=r||d<=f;){const i=H(this,M,"m",mi).call(this,h),e=H(this,M,"m",bi).call(this,d),r=H(this,M,"m",Hi).call(this,h),f=H(this,M,"m",Ni).call(this,d),u=L.prototype.isIncludeableLine.call(i||{}),g=L.prototype.isIncludeableLine.call(e||{}),c=H(this,z,"f").length,p=!i&&!e;if(i&&!e){if(i.newLineNumber&&i.newLineNumber>d){d++;continue}null!==i.newLineNumber&&void 0!==i.newLineNumber||d++}if(e&&!i){if(e.oldLineNumber&&e.oldLineNumber>h){h++;continue}null!==e.oldLineNumber&&void 0!==e.oldLineNumber||h++}if(!i&&!r&&!e&&!f)break;if(!i&&!e){if((null===(t=H(this,q,"f"))||void 0===t?void 0:t[h])&&(null===(n=H(this,Q,"f"))||void 0===n?void 0:n[d])){h++,d++;continue}if(!r&&(null===(s=H(this,Q,"f"))||void 0===s?void 0:s[d])){d++;continue}if(!f&&(null===(l=H(this,q,"f"))||void 0===l?void 0:l[h])){h++;continue}}if(u&&g||!u&&!g?(H(this,V,"f").push({lineNumber:h++,value:r,diff:i,isHidden:p,_isHidden:p}),H(this,z,"f").push({lineNumber:d++,value:f,diff:e,isHidden:p,_isHidden:p})):u?(H(this,V,"f").push({lineNumber:h++,value:r,diff:i,isHidden:p,_isHidden:p}),H(this,z,"f").push({})):g&&(H(this,V,"f").push({}),H(this,z,"f").push({lineNumber:d++,value:f,diff:e,isHidden:p,_isHidden:p})),!o&&p&&(a=c),p&&(this.hasSomeLineCollapsed=!0),o=p,(null===i||void 0===i?void 0:i.prevHunkLine)||(null===e||void 0===e?void 0:e.prevHunkLine)){const t=(null===i||void 0===i?void 0:i.prevHunkLine)||e.prevHunkLine;t.isFirst?(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:0,endHiddenIndex:t.hunkInfo.newStartIndex-1,plainText:t.text,_startHiddenIndex:0,_endHiddenIndex:t.hunkInfo.newStartIndex-1,_plainText:t.text}),a=1/0):Number.isFinite(a)&&(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:a,endHiddenIndex:c,plainText:t.text,_startHiddenIndex:a,_endHiddenIndex:c,_plainText:t.text}),a=1/0),N(this,J,Object.assign(Object.assign({},H(this,J,"f")),{[c]:t}),"f")}}if(Number.isFinite(a)){const i=new L("",g.Hunk,null,null,null);i.isLast=!0,i.splitInfo={startHiddenIndex:a,endHiddenIndex:H(this,z,"f").length,_startHiddenIndex:a,_endHiddenIndex:H(this,z,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},N(this,J,Object.assign(Object.assign({},H(this,J,"f")),{[H(this,z,"f").length]:i}),"f"),a=1/0}this.splitLineLength=H(this,z,"f").length,N(this,ei,!0,"f"),this.notifyAll()}buildUnifiedDiffLines(){var i,e,t,n,s,l;if(H(this,ti,"f"))return;let h=1,d=1,o=!0,a=1/0;const r=(null===(i=H(this,R,"f"))||void 0===i?void 0:i.maxLineNumber)||0,f=(null===(e=H(this,j,"f"))||void 0===e?void 0:e.maxLineNumber)||0;for(0;h<=r||d<=f;){const i=H(this,M,"m",Hi).call(this,h),e=H(this,M,"m",mi).call(this,h),r=H(this,M,"m",Ni).call(this,d),f=H(this,M,"m",bi).call(this,d),u=L.prototype.isIncludeableLine.call(e||{}),g=L.prototype.isIncludeableLine.call(f||{}),c=H(this,K,"f").length,p=!e&&!f;if(e&&!f){if(e.newLineNumber&&e.newLineNumber>d){d++;continue}null!==e.newLineNumber&&void 0!==e.newLineNumber||d++}if(f&&!e){if(f.oldLineNumber&&f.oldLineNumber>h){h++;continue}null!==f.oldLineNumber&&void 0!==f.oldLineNumber||h++}if(!i&&!r&&!f&&!e)break;if(!e&&!f){if((null===(t=H(this,q,"f"))||void 0===t?void 0:t[h])&&(null===(n=H(this,Q,"f"))||void 0===n?void 0:n[d])){h++,d++;continue}if(!i&&(null===(s=H(this,Q,"f"))||void 0===s?void 0:s[d])){d++;continue}if(!r&&(null===(l=H(this,q,"f"))||void 0===l?void 0:l[h])){h++;continue}}if(u||g?u?H(this,K,"f").push({oldLineNumber:h++,value:i,diff:e,isHidden:p,_isHidden:p}):g&&H(this,K,"f").push({newLineNumber:d++,value:r,diff:f,isHidden:p,_isHidden:p}):H(this,K,"f").push({oldLineNumber:h++,newLineNumber:d++,value:r,diff:f,isHidden:p,_isHidden:p}),!o&&p&&(a=c),p&&(this.hasSomeLineCollapsed=!0),o=p,(null===e||void 0===e?void 0:e.prevHunkLine)||(null===f||void 0===f?void 0:f.prevHunkLine)){const i=(null===e||void 0===e?void 0:e.prevHunkLine)||f.prevHunkLine;i.isFirst?(i.unifiedInfo=Object.assign(Object.assign({},i.hunkInfo),{startHiddenIndex:0,endHiddenIndex:i.hunkInfo.newStartIndex-1,plainText:i.text,_startHiddenIndex:0,_endHiddenIndex:i.hunkInfo.newStartIndex-1,_plainText:i.text}),a=1/0):Number.isFinite(a)&&(i.unifiedInfo=Object.assign(Object.assign({},i.hunkInfo),{startHiddenIndex:a,endHiddenIndex:c,plainText:i.text,_startHiddenIndex:a,_endHiddenIndex:c,_plainText:i.text}),a=1/0),N(this,X,Object.assign(Object.assign({},H(this,X,"f")),{[c]:i}),"f")}}if(Number.isFinite(a)){const i=new L("",g.Hunk,null,null,null);i.isLast=!0,i.unifiedInfo={startHiddenIndex:a,endHiddenIndex:H(this,K,"f").length,_startHiddenIndex:a,_endHiddenIndex:H(this,K,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},N(this,X,Object.assign(Object.assign({},H(this,X,"f")),{[H(this,K,"f").length]:i}),"f"),a=1/0}this.unifiedLineLength=H(this,K,"f").length,N(this,ti,!0,"f"),this.notifyAll()}get hasExpandSplitAll(){return H(this,fi,"f").state}get hasExpandUnifiedAll(){return H(this,ui,"f").state}}var yi;R=new WeakMap,j=new WeakMap,W=new WeakMap,D=new WeakMap,A=new WeakMap,B=new WeakMap,$=new WeakMap,U=new WeakMap,P=new WeakMap,G=new WeakMap,q=new WeakMap,Q=new WeakMap,V=new WeakMap,z=new WeakMap,J=new WeakMap,K=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,ii=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,si=new WeakMap,li=new WeakMap,hi=new WeakMap,di=new WeakMap,oi=new WeakMap,ai=new WeakMap,ri=new WeakMap,fi=new WeakMap,ui=new WeakMap,gi=new WeakMap,Li=new WeakMap,M=new WeakSet,ci=function(){this._diffList&&N(this,W,this._diffList.map((i=>b.parse(i))),"f")},pi=function(){(this._oldFileContent||this._newFileContent)&&(this._oldFileContent&&N(this,R,T(this._oldFileContent,this._oldFileLang,H(this,ai,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),this._newFileContent&&N(this,j,T(this._newFileContent,this._newFileLang,H(this,ai,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"))},wi=function(){var i,e,t,n,s,l;null===(i=H(this,R,"f"))||void 0===i||i.doRaw(),N(this,$,null===(e=H(this,R,"f"))||void 0===e?void 0:e.rawFile,"f"),null===(t=H(this,j,"f"))||void 0===t||t.doRaw(),N(this,U,null===(n=H(this,j,"f"))||void 0===n?void 0:n.rawFile,"f"),this.fileLineLength=Math.max(this.fileLineLength,(null===(s=H(this,R,"f"))||void 0===s?void 0:s.maxLineNumber)||0,(null===(l=H(this,j,"f"))||void 0===l?void 0:l.maxLineNumber)||0)},vi=function(){if(this._oldFileContent&&this._newFileContent)return;const i={},e={};if(this._oldFileContent||this._newFileContent){if(H(this,R,"f")){let i=1,e=1,t="",n=!1;for(;e<=H(this,R,"f").maxLineNumber;){const s=H(this,M,"m",bi).call(this,i++),l=H(this,M,"m",mi).call(this,e);s?(t+=s.text,e=s.oldLineNumber?s.oldLineNumber+1:e):(l||(t+=H(this,M,"m",Hi).call(this,e)),e++),!n&&s&&l&&(n=n||s.noTrailingNewLine!==l.noTrailingNewLine)}if(!n&&t===this._oldFileContent)return;this._newFileContent=t,N(this,j,T(this._newFileContent,this._newFileLang,H(this,ai,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f")}else if(H(this,j,"f")){let i=1,e=1,t="",n=!1;for(;e<=H(this,j,"f").maxLineNumber;){const s=H(this,M,"m",mi).call(this,i++),l=H(this,M,"m",bi).call(this,e);s?(t+=s.text,e=s.newLineNumber?s.newLineNumber+1:e):(l||(t+=H(this,M,"m",Ni).call(this,e)),e++),!n&&l&&s&&(n=n||l.noTrailingNewLine!==s.noTrailingNewLine)}if(!n&&t===this._newFileContent)return;this._oldFileContent=t,N(this,R,T(this._oldFileContent,this._oldFileLang,H(this,ai,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f")}}else{let t=1,n=1,s="",l="",h=!1;for(;n<=this.diffLineLength||t<=this.diffLineLength;){const d=n++,o=t++,a=H(this,M,"m",mi).call(this,d),r=H(this,M,"m",bi).call(this,o);a?s+=a.text:(s+="\n",i[d]=!0),r?l+=r.text:(l+="\n",e[o]=!0),!h&&a&&r&&(h=h||a.noTrailingNewLine!==r.noTrailingNewLine)}if(!h&&s===l)return;this._oldFileContent=s,this._newFileContent=l,N(this,R,T(this._oldFileContent,this._oldFileLang,H(this,ai,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),N(this,j,T(this._newFileContent,this._newFileLang,H(this,ai,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),N(this,q,i,"f"),N(this,Q,e,"f"),N(this,si,!0,"f")}H(this,M,"m",wi).call(this)},xi=function(){var i;if(!(null===(i=H(this,W,"f"))||void 0===i?void 0:i.length))return;const e=i=>H(this,M,"m",Ni).call(this,i),t=i=>H(this,M,"m",Hi).call(this,i);N(this,D,[],"f"),this.additionLength=0,this.deletionLength=0;const n=[];H(this,W,"f").forEach((i=>{i.hunks.forEach((i=>{let s=[],l=[];i.lines.forEach((i=>{i.type===g.Add?(s.push(i),this.additionLength++):i.type===g.Delete?(l.push(i),this.deletionLength++):(v(s,l,{getAdditionRaw:e,getDeletionRaw:t}),s=[],l=[]),n.push(i)})),v(s,l,{getAdditionRaw:e,getDeletionRaw:t})}))}));let s=null;N(this,D,n.map(((i,e)=>{var t;const n=i;if(n.index=e,n.isFirst=0===e,n.type===g.Hunk){const i=null===(t=n.text.split("@@"))||void 0===t?void 0:t[1].split(" ").filter(Boolean),e=(null===i||void 0===i?void 0:i[0])||"",l=(null===i||void 0===i?void 0:i[1])||"",[h,d]=e.split(","),[o,a]=l.split(",");n.hunkInfo={oldStartIndex:-Number(h),oldLength:Number(d),newStartIndex:+Number(o),newLength:Number(a),_oldStartIndex:-Number(h),_oldLength:Number(d),_newStartIndex:+Number(o),_newLength:Number(a)},s=n}else if(n.type===g.Context){const e=i;s&&(e.prevHunkLine=s,s=null)}else s=null;return n})),"f"),N(this,A,{},"f"),N(this,B,{},"f");H(this,D,"f").forEach((i=>{i.oldLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,i.oldLineNumber),H(this,A,"f")[i.oldLineNumber]=i),i.newLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,i.newLineNumber),H(this,B,"f")[i.newLineNumber]=i)}))},Ii=function({registerHighlighter:i}){var e,t,n,s;null===(e=H(this,R,"f"))||void 0===e||e.doSyntax({registerHighlighter:i,theme:H(this,ai,"f")}),N(this,P,null===(t=H(this,R,"f"))||void 0===t?void 0:t.syntaxFile,"f"),null===(n=H(this,j,"f"))||void 0===n||n.doSyntax({registerHighlighter:i,theme:H(this,ai,"f")}),N(this,G,null===(s=H(this,j,"f"))||void 0===s?void 0:s.syntaxFile,"f")},mi=function(i){var e;if(i)return null===(e=H(this,A,"f"))||void 0===e?void 0:e[i]},bi=function(i){var e;if(i)return null===(e=H(this,B,"f"))||void 0===e?void 0:e[i]},Hi=function(i){var e;return null===(e=H(this,$,"f"))||void 0===e?void 0:e[i]},Ni=function(i){var e;return null===(e=H(this,U,"f"))||void 0===e?void 0:e[i]},function(i){i[i.hunk=1]="hunk",i[i.content=2]="content",i[i.widget=3]="widget",i[i.extend=4]="extend"}(yi||(yi={}))}}]);