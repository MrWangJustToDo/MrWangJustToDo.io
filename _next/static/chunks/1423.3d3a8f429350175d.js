"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1423],{51423:function(i,e,t){t.d(e,{gQ:function(){return s.gQ},uN:function(){return Qi}});t(27497);var n,s=t(75457);!function(i){i.None="None",i.Up="Up",i.Down="Down",i.Both="Both",i.Short="Short"}(n||(n={}));class l{constructor(i,e,t,n,s){this.header=i,this.lines=e,this.unifiedDiffStart=t,this.unifiedDiffEnd=n,this.expansionType=s}equals(i){return this===i||this.header.equals(i.header)&&this.unifiedDiffStart===i.unifiedDiffStart&&this.unifiedDiffEnd===i.unifiedDiffEnd&&this.expansionType===i.expansionType&&this.lines.length===i.lines.length&&this.lines.every(((e,t)=>e.equals(i.lines[t])))}}class d{constructor(i,e,t,n){this.oldStartLine=i,this.oldLineCount=e,this.newStartLine=t,this.newLineCount=n}toDiffLineRepresentation(){return`@@ -${this.oldStartLine},${this.oldLineCount} +${this.newStartLine},${this.newLineCount} @@`}equals(i){return this.oldStartLine===i.oldStartLine&&this.oldLineCount===i.oldLineCount&&this.newStartLine===i.newStartLine&&this.oldStartLine===i.oldStartLine}}"function"===typeof SuppressedError&&SuppressedError;const h="--diff-add-content-highlight--",o="--diff-del-content-highlight--";var a;!function(i){i[i.CRLF=1]="CRLF",i[i.CR=2]="CR",i[i.LF=3]="LF",i[i.NEWLINE=4]="NEWLINE",i[i.NORMAL=5]="NORMAL",i[i.NULL=6]="NULL"}(a||(a={}));const r=i=>{switch(i){case a.LF:return"\u240a";case a.CR:return"\u240d";case a.CRLF:return"\u240d\u240a";default:return""}};function f(i){return i.location+i.length}function u(i,e,t,n,s){const l=Math.min(e.length,n.length),d=s?f(e)-1:e.location,h=s?f(n)-1:n.location,o=s?-1:1;let a=0;for(;Math.abs(a)<l&&i[d+a]===t[h+a];)a+=o;return Math.abs(a)}function g(i){return 0===i.trim().length||i.length>=1e3}function c(i,e){const t=i.text,n=e.text,s=t.slice(-2),l=n.slice(-2),d="\r\n"===s?a.CRLF:s.endsWith("\r")?a.CR:s.endsWith("\n")?a.LF:a.NULL,h="\r\n"===l?a.CRLF:l.endsWith("\r")?a.CR:l.endsWith("\n")?a.LF:a.NULL,o=i.noTrailingNewLine!==e.noTrailingNewLine;return d===h?{addSymbol:void 0,addString:t,delSymbol:void 0,delString:n}:{addSymbol:o?i.noTrailingNewLine?a.NEWLINE:a.NORMAL:d,addString:d===a.CRLF?t.slice(0,-2):d===a.CR||d===a.LF?t.slice(0,-1):t,delSymbol:o?e.noTrailingNewLine?a.NEWLINE:a.NORMAL:h,delString:h===a.CRLF?n.slice(0,-2):h===a.CR||h===a.LF?n.slice(0,-1):n}}function L(i,e){const t=i.text,n=e.text,{addString:s,delString:l,addSymbol:d,delSymbol:h}=c(i,e);if(s===l&&d&&h)return{addRange:{range:{location:s.length,length:t.length-s.length},hasLineChange:!0,newLineSymbol:d},delRange:{range:{location:l.length,length:n.length-l.length},hasLineChange:!0,newLineSymbol:h}};let o={location:0,length:l.length},a={location:0,length:s.length};if(g(t)||g(n))return a.length=0,o.length=0,{addRange:{range:a},delRange:{range:o}};const r=u(l,o,s,a,!1);o={location:o.location+r,length:o.length-r},a={location:a.location+r,length:a.length-r};const f=u(l,o,s,a,!0);return o.length-=f,a.length-=f,{addRange:{range:a,hasLineChange:(s.slice(0,a.location)+s.slice(a.location+a.length)).trim().length>0},delRange:{range:o,hasLineChange:(l.slice(0,o.location)+l.slice(o.location+o.length)).trim().length>0}}}var v;!function(i){i[i.Context=0]="Context",i[i.Add=1]="Add",i[i.Delete=2]="Delete",i[i.Hunk=3]="Hunk"}(v||(v={}));class p{constructor(i,e,t,n,s,l=!1,d,h,o,a){this.text=i,this.type=e,this.originalLineNumber=t,this.oldLineNumber=n,this.newLineNumber=s,this.noTrailingNewLine=l,this.changes=d,this.diffChanges=h,this.plainTemplate=o,this.syntaxTemplate=a}withNoTrailingNewLine(i){return new p(this.text,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,i)}isIncludeableLine(){return this.type===v.Add||this.type===v.Delete}equals(i){return this.text===i.text&&this.type===i.type&&this.originalLineNumber===i.originalLineNumber&&this.oldLineNumber===i.oldLineNumber&&this.newLineNumber===i.newLineNumber&&this.noTrailingNewLine===i.noTrailingNewLine}clone(i){return new p(i,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,this.noTrailingNewLine)}}const w=/["'&<>]/;function x(i){const e=""+i,t=w.exec(e);if(!t)return e;let n,s,l="",d=0;for(s=t.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}d!==s&&(l+=e.slice(d,s)),d=s+1,l+=n}return d!==s?l+e.slice(d,s):l}let m=!1;const I=i=>i;let b=I,N=I;const H=()=>m,y=i=>m&&I!==b?b(i):i,S=({diffLine:i,rawLine:e,operator:t})=>{if(i.plainTemplate)return;const n=i.changes;if(!n||!n.hasLineChange||!e)return;const s=H()?y:x,l=n.range,d=e.slice(0,l.location),a=e.slice(l.location,l.location+l.length),f=e.slice(l.location+l.length),u=a.includes("\n"),g=u?a.replace("\n","").replace("\r",""):a,c=n.newLineSymbol,L=`<span data-range-start="${l.location}" data-range-end="${l.location+l.length}">${s(d)}<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">${u?`${s(g)}<span data-newline-symbol>${r(c)}</span>`:s(a)}</span>${s(f)}</span>`;i.plainTemplate=L},F=({diffLine:i,syntaxLine:e,operator:t})=>{var n;if(i.syntaxTemplate||!e)return;const s=i.changes;if(!s||!s.hasLineChange)return;const l=H()?y:x,d=s.range;let a=`<span data-range-start="${d.location}" data-range-end="${d.location+d.length}">`;null===(n=null===e||void 0===e?void 0:e.nodeList)||void 0===n||n.forEach((({node:i,wrapper:e})=>{var n,f,u,g,c,L;if(i.endIndex<d.location||d.location+d.length<i.startIndex)a+=`<span data-start="${i.startIndex}" data-end="${i.endIndex}" class="${null===(f=(null===(n=null===e||void 0===e?void 0:e.properties)||void 0===n?void 0:n.className)||[])||void 0===f?void 0:f.join(" ")}" style="${(null===(u=null===e||void 0===e?void 0:e.properties)||void 0===u?void 0:u.style)||""}">${l(i.value)}</span>`;else{const n=d.location-i.startIndex,f=n<0?0:n,u=i.value.slice(0,f),v=i.value.slice(f,n+d.length),p=i.value.slice(n+d.length),w=u.length||d.location===i.startIndex,x=p.length||i.endIndex===d.location+d.length-1,m=v.includes("\n"),I=m?v.replace("\n","").replace("\r",""):v;a+=`<span data-start="${i.startIndex}" data-end="${i.endIndex}" class="${null===(c=(null===(g=null===e||void 0===e?void 0:e.properties)||void 0===g?void 0:g.className)||[])||void 0===c?void 0:c.join(" ")}" style="${(null===(L=null===e||void 0===e?void 0:e.properties)||void 0===L?void 0:L.style)||""}">${l(u)}<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-top-left-radius: ${w?"0.2em":"0"};border-bottom-left-radius: ${w?"0.2em":"0"};border-top-right-radius: ${x||m?"0.2em":"0"};border-bottom-right-radius: ${x||m?"0.2em":"0"}">${m?`${l(I)}<span data-newline-symbol>${r(s.newLineSymbol)}</span>`:l(v)}</span>${l(p)}</span>`}})),a+="</span>",i.syntaxTemplate=a},_=i=>{if(!i)return"";return(H()?y:x)(i)};function k(i,e){throw new Error(e)}function C(i){var e,t;if(0===i.length)return 0;for(let n=i.length-1;n>=0;n--){const s=i[n];for(let i=s.lines.length-1;i>=0;i--){const n=s.lines[i];if(n.type===v.Hunk)continue;const l=null!==(e=n.newLineNumber)&&void 0!==e?e:0,d=null!==(t=n.oldLineNumber)&&void 0!==t?t:0;return l>d?l:d}}return 0}const E=i=>{const e=i.lastIndexOf(".");return i.slice(e+1)},T=(i,e,{getAdditionRaw:t,getDeletionRaw:n,getAdditionSyntax:s,getDeletionSyntax:l})=>{if(i.length===e.length){const d=i.length;for(let h=0;h<d;h++){const d=i[h],o=e[h];if(!d.changes||!o.changes){const i=d.clone(t(d.newLineNumber)||d.text||""),e=o.clone(n(o.oldLineNumber)||o.text||""),{addRange:s,delRange:l}=L(i,e);d.changes=s,o.changes=l}d.plainTemplate&&o.plainTemplate||(S({diffLine:d,rawLine:t(d.newLineNumber),operator:"add"}),S({diffLine:o,rawLine:n(o.oldLineNumber),operator:"del"})),d.syntaxTemplate&&o.syntaxTemplate||(F({diffLine:d,syntaxLine:s(d.newLineNumber),operator:"add"}),F({diffLine:o,syntaxLine:l(o.oldLineNumber),operator:"del"}))}}},O=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/,j=/[\u202A-\u202E]|[\u2066-\u2069]/,M=new Set(["+","-"," ","\\"]);const R=new class{constructor(){Object.defineProperty(this,"__v_skip",{value:!0}),this.reset()}reset(){this.ls=0,this.le=-1,this.text=""}nextLine(){return this.ls=this.le+1,!(this.ls>=this.text.length)&&(this.le=this.text.indexOf("\n",this.ls),-1===this.le&&(this.le=this.text.length),this.ls!==this.le)}readLine(i){return i?this.nextLine()?this.text.substring(this.ls,this.le):null:this.nextLine()?this.text.substring(this.ls+1,this.le+1):null}lineStartsWith(i){return this.text.startsWith(i,this.ls)}lineEndsWith(i){return this.text.endsWith(i,this.le)}peek(){const i=this.le+1;return i<this.text.length?this.text[i]:null}parseDiffHeader(){for(;this.nextLine();){if(this.lineStartsWith("Binary files ")&&this.lineEndsWith("differ"))return{isBinary:!0};if(this.lineStartsWith("+++"))return{isBinary:!1}}return null}numberFromGroup(i,e,t=null){const n=i[e];if(!n){if(!t)throw new Error(`Group ${e} missing from regexp match and no defaultValue was provided`);return t}const s=parseInt(n,10);if(isNaN(s))throw new Error(`Could not parse capture group ${e} into number: ${n}`);return s}parseHunkHeader(i){const e=O.exec(i);if(!e)throw new Error("Invalid hunk header format");const t=this.numberFromGroup(e,1),n=this.numberFromGroup(e,2,1),s=this.numberFromGroup(e,3),l=this.numberFromGroup(e,4,1);return new d(t,n,s,l)}parseLinePrefix(i){return i&&i.length&&M.has(i[0])?i[0]:null}parseHunk(i,e,t){const s=this.readLine(!0);if(!s)throw new Error("Expected hunk header but reached end of diff");const d=this.parseHunkHeader(s),h=new Array;let o;h.push(new p(s,v.Hunk,1,null,null));let a=d.oldStartLine,r=d.newStartLine,f=i;for(;o=this.parseLinePrefix(this.peek());){const i=this.readLine(!1);if(!i)throw new Error("Expected unified diff line but reached end of diff");if("\\"===o){if(i.length<12)throw new Error('Expected "no newline at end of file" marker to be at least 12 bytes long');const e=h.length-1,t=h[e];h[e]=t.withNoTrailingNewLine(!0);continue}let e;if(f++,"+"===o)e=new p(i,v.Add,f,null,r++);else if("-"===o)e=new p(i,v.Delete,f,a++,null);else{if(" "!==o)return k(0,`Unknown DiffLinePrefix: ${o}`);e=new p(i,v.Context,f,a++,r++)}h.push(e)}if(1===h.length)throw new Error("Malformed diff, empty hunk");return new l(d,h,i,i+h.length-1,function(i,e,t){const s=null===t?1/0:e.oldStartLine-t.header.oldStartLine-t.header.oldLineCount;return 0===i?e.oldStartLine>1&&e.newStartLine>1?n.Up:n.None:s<=40?n.Short:n.Both}(e,d,t))}parse(i){this.text=i;try{const e=this.parseDiffHeader(),t=this.le,n=this.text.substring(0,t);if(!e)return{header:n,contents:"",hunks:[],isBinary:!1,maxLineNumber:0,hasHiddenBidiChars:!1};if(e.isBinary)return{header:n,contents:"",hunks:[],isBinary:!0,maxLineNumber:0,hasHiddenBidiChars:!1};const s=new Array;let l=0,d=null;do{const i=this.parseHunk(l,s.length,d);s.push(i),d=i,l+=i.lines.length}while(this.peek());return{header:n,contents:this.text.substring(t+1,this.le).replace(/\n\\ No newline at end of file/g,""),hunks:s,isBinary:e.isBinary,maxLineNumber:C(s),hasHiddenBidiChars:j.test(i)}}finally{this.reset()}}};function $(i,e,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(i):n?n.value:e.get(i)}function W(i,e,t,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?i!==e||!s:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(i,t):s?s.value=t:e.set(i,t),t}var D,A,B,U,P;"function"===typeof SuppressedError&&SuppressedError;class q extends Map{constructor(){super(...arguments),D.add(this),A.set(this,[]),B.set(this,30)}get maxLength(){return $(this,B,"f")}setMaxLength(i){W(this,B,i,"f"),$(this,D,"m",U).call(this)}set(i,e){return $(this,B,"f")<=0||this.has(i)?this:($(this,A,"f").push(i),$(this,D,"m",U).call(this),super.set(i,e))}}A=new WeakMap,B=new WeakMap,D=new WeakSet,U=function(){for(;$(this,A,"f").length>$(this,B,"f");){const i=$(this,A,"f").shift();this.delete(i)}};const G=new q;G.setMaxLength(50),G.name="@git-diff-view/core";class Q{static createInstance(i){const e=new Q(null===i||void 0===i?void 0:i.raw,null===i||void 0===i?void 0:i.lang,null===i||void 0===i?void 0:i.fileName);return e.ast=null===i||void 0===i?void 0:i.ast,e.rawFile=(null===i||void 0===i?void 0:i.rawFile)||{},e.plainFile=(null===i||void 0===i?void 0:i.plainFile)||{},e.hasDoRaw=null===i||void 0===i?void 0:i.hasDoRaw,e.rawLength=null===i||void 0===i?void 0:i.rawLength,e.syntaxFile=(null===i||void 0===i?void 0:i.syntaxFile)||{},e.hasDoSyntax=null===i||void 0===i?void 0:i.hasDoSyntax,e.syntaxLength=null===i||void 0===i?void 0:i.syntaxLength,e.highlighterName=null===i||void 0===i?void 0:i.highlighterName,e.highlighterType=null===i||void 0===i?void 0:i.highlighterType,e.maxLineNumber=null===i||void 0===i?void 0:i.maxLineNumber,e}constructor(i,e,t){var n;P.add(this),this.raw=i,this.lang=e,this.fileName=t,this.rawFile={},this.hasDoRaw=!1,this.syntaxFile={},this.plainFile={},this.hasDoSyntax=!1,this.maxLineNumber=0,this.raw=(n=i,m&&I!==N?N(n):n),Object.defineProperty(this,"__v_skip",{value:!0})}doSyntax({registerHighlighter:i,theme:e}){if(!this.raw||this.hasDoSyntax)return;const t=i||s.gQ;if(this.syntaxLength)return void 0;if(this.rawLength>t.maxLineToIgnoreSyntax)return void 0;let n=t;try{t.hasRegisteredCurrentLang(this.lang)||(n=s.gQ)}catch(h){n=s.gQ}if(this.ast=n.getAST(this.raw,this.fileName,this.lang,e),!this.ast)return;const{syntaxFileObject:l,syntaxFileLineNumber:d}=n.processAST(this.ast);Object.values(l).forEach((i=>{i.template=(i=>{var e;let t="";const n=H()?y:x;return null===(e=null===i||void 0===i?void 0:i.nodeList)||void 0===e||e.forEach((({node:i,wrapper:e})=>{var s,l,d;t+=`<span data-start="${i.startIndex}" data-end="${i.endIndex}" class="${null===(l=(null===(s=null===e||void 0===e?void 0:e.properties)||void 0===s?void 0:s.className)||[])||void 0===l?void 0:l.join(" ")}" style="${(null===(d=null===e||void 0===e?void 0:e.properties)||void 0===d?void 0:d.style)||""}">${n(i.value)}</span>`})),t})(i)})),this.syntaxFile=l,this.syntaxLength=d,this.highlighterName=n.name,this.highlighterType=n.type,this.hasDoSyntax=!0}doRaw(){if(!this.raw||this.hasDoRaw)return;const i=this.raw.split("\n");this.rawLength=i.length,this.maxLineNumber=i.length,this.rawFile={},this.plainFile={};for(let e=0;e<i.length;e++)this.rawFile[e+1]=e<i.length-1?i[e]+"\n":i[e],this.plainFile[e+1]={value:this.rawFile[e+1],template:_(this.rawFile[e+1])};this.hasDoRaw=!0}}function V(i,e,t,n,s){let l=i+"--0.0.28--"+t+"--"+e;s&&(l=s+"--0.0.28--"+t+"--"+e);let d=i+"--0.0.28--"+("light"===t?"dark":"light")+"--"+e;if(s&&(d=s+"--0.0.28--"+("light"===t?"dark":"light")+"--"+e),G.has(l))return G.get(l);if(G.has(d)){const i=G.get(d);if("class"===i.highlighterType)return i}const h=new Q(i,e,n);return G.set(l,h),h}P=new WeakSet;var z,J,K,X,Y,Z,ii,ei,ti,ni,si,li,di,hi,oi,ai,ri,fi,ui,gi,ci,Li,vi,pi,wi,xi,mi,Ii,bi,Ni,Hi,yi,Si,Fi,_i,ki,Ci,Ei,Ti,Oi,ji,Mi,Ri,$i,Wi,Di,Ai,Bi,Ui,Pi;let qi=40;const Gi=new Set;class Qi{static createInstance(i,e){var t,n,s,l,d,h;const o=new Qi((null===(t=null===i||void 0===i?void 0:i.oldFile)||void 0===t?void 0:t.fileName)||"",(null===(n=null===i||void 0===i?void 0:i.oldFile)||void 0===n?void 0:n.content)||"",(null===(s=null===i||void 0===i?void 0:i.newFile)||void 0===s?void 0:s.fileName)||"",(null===(l=null===i||void 0===i?void 0:i.newFile)||void 0===l?void 0:l.content)||"",(null===i||void 0===i?void 0:i.hunks)||[],(null===(d=null===i||void 0===i?void 0:i.oldFile)||void 0===d?void 0:d.fileLang)||"",(null===(h=null===i||void 0===i?void 0:i.newFile)||void 0===h?void 0:h.fileLang)||"");return e&&(e.isFullMerge?o._mergeFullBundle(e):o.mergeBundle(e)),o}constructor(i,e,t,n,s,l,d,h){z.add(this),this.uuid=h,J.set(this,void 0),K.set(this,void 0),X.set(this,void 0),Y.set(this,void 0),Z.set(this,void 0),ii.set(this,void 0),ei.set(this,void 0),ti.set(this,void 0),ni.set(this,void 0),si.set(this,void 0),li.set(this,void 0),di.set(this,void 0),hi.set(this,void 0),oi.set(this,void 0),ai.set(this,[]),ri.set(this,[]),fi.set(this,void 0),ui.set(this,[]),gi.set(this,void 0),ci.set(this,[]),Li.set(this,!1),vi.set(this,!1),pi.set(this,!1),wi.set(this,!1),xi.set(this,0),mi.set(this,!1),Ii.set(this,!1),bi.set(this,!1),Ni.set(this,void 0),Hi.set(this,void 0),yi.set(this,"light"),Si.set(this,void 0),Fi.set(this,{state:!1}),_i.set(this,{state:!1}),this._version_="0.0.28",this._oldFileName="",this._oldFileContent="",this._oldFileLang="",this._newFileName="",this._newFileContent="",this._newFileLang="",this._diffList=[],this.diffLineLength=0,this.splitLineLength=0,this.unifiedLineLength=0,this.fileLineLength=0,this.additionLength=0,this.deletionLength=0,this.hasSomeLineCollapsed=!1,ki.set(this,""),Ci.set(this,new Map),this.getSplitLeftLine=i=>$(this,ai,"f")[i],this.getSplitLineByLineNumber=(i,e)=>{var t,n;return e===zi.old?null===(t=$(this,ai,"f"))||void 0===t?void 0:t.find((e=>e.lineNumber===i)):null===(n=$(this,ri,"f"))||void 0===n?void 0:n.find((e=>e.lineNumber===i))},this.getSplitLineIndexByLineNumber=(i,e)=>{var t,n;return e===zi.old?null===(t=$(this,ai,"f"))||void 0===t?void 0:t.findIndex((e=>e.lineNumber===i)):null===(n=$(this,ri,"f"))||void 0===n?void 0:n.findIndex((e=>e.lineNumber===i))},this.getSplitRightLine=i=>$(this,ri,"f")[i],this.getSplitHunkLine=i=>{var e;return null===(e=$(this,fi,"f"))||void 0===e?void 0:e[i]},this.onSplitHunkExpand=(i,e,t=!0)=>{var n,s;const l=null===(n=$(this,fi,"f"))||void 0===n?void 0:n[e];if(l&&l.splitInfo&&!$(this,mi,"f")){if("all"===i){for(let i=l.splitInfo.startHiddenIndex;i<l.splitInfo.endHiddenIndex;i++){const e=$(this,ai,"f")[i],t=$(this,ri,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.splitInfo=Object.assign(Object.assign(Object.assign({},l.splitInfo),l.hunkInfo),{plainText:l.text,startHiddenIndex:l.splitInfo.endHiddenIndex})}else if("down"===i){for(let i=l.splitInfo.startHiddenIndex;i<l.splitInfo.startHiddenIndex+qi;i++){const e=$(this,ai,"f")[i],t=$(this,ri,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.isLast?l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+qi}):l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+qi,plainText:`@@ -${l.splitInfo.oldStartIndex},${l.splitInfo.oldLength} +${l.splitInfo.newStartIndex},${l.splitInfo.newLength}`})}else{if(l.isLast)return void 0;for(let e=l.splitInfo.endHiddenIndex-qi;e<l.splitInfo.endHiddenIndex;e++){const i=$(this,ai,"f")[e],t=$(this,ri,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}const i=l.splitInfo.oldStartIndex-qi,t=l.splitInfo.oldLength+qi,n=l.splitInfo.newStartIndex-qi,d=l.splitInfo.newLength+qi;l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{endHiddenIndex:l.splitInfo.endHiddenIndex-qi,oldStartIndex:i,oldLength:t,newStartIndex:n,newLength:d,plainText:`@@ -${i},${t} +${n},${d}`}),null===(s=$(this,fi,"f"))||void 0===s||delete s[e],$(this,fi,"f")[l.splitInfo.endHiddenIndex]=l}t&&this.notifyAll()}},this.getUnifiedLine=i=>$(this,ui,"f")[i],this.getUnifiedLineByLineNumber=(i,e)=>{var t,n;return e===zi.old?null===(t=$(this,ui,"f"))||void 0===t?void 0:t.find((e=>e.oldLineNumber===i)):null===(n=$(this,ui,"f"))||void 0===n?void 0:n.find((e=>e.newLineNumber===i))},this.getUnifiedLineIndexByLineNumber=(i,e)=>{var t,n;return e===zi.old?null===(t=$(this,ui,"f"))||void 0===t?void 0:t.findIndex((e=>e.oldLineNumber===i)):null===(n=$(this,ui,"f"))||void 0===n?void 0:n.findIndex((e=>e.newLineNumber===i))},this.getUnifiedHunkLine=i=>{var e;return null===(e=$(this,gi,"f"))||void 0===e?void 0:e[i]},this.onUnifiedHunkExpand=(i,e,t=!0)=>{var n,s,l;if($(this,mi,"f"))return;const d=null===(n=$(this,gi,"f"))||void 0===n?void 0:n[e];if(d&&d.unifiedInfo){if("all"===i){for(let i=d.unifiedInfo.startHiddenIndex;i<d.unifiedInfo.endHiddenIndex;i++){const e=null===(s=$(this,ui,"f"))||void 0===s?void 0:s[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1)}d.unifiedInfo=Object.assign(Object.assign(Object.assign({},d.unifiedInfo),d.hunkInfo),{plainText:d.text,startHiddenIndex:d.unifiedInfo.endHiddenIndex})}else if("down"===i){for(let i=d.unifiedInfo.startHiddenIndex;i<d.unifiedInfo.startHiddenIndex+qi;i++){const e=$(this,ui,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1)}d.isLast?d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{startHiddenIndex:d.unifiedInfo.startHiddenIndex+qi}):d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{startHiddenIndex:d.unifiedInfo.startHiddenIndex+qi,plainText:`@@ -${d.unifiedInfo.oldStartIndex},${d.unifiedInfo.oldLength} +${d.unifiedInfo.newStartIndex},${d.unifiedInfo.newLength}`})}else{if(d.isLast)return void 0;for(let e=d.unifiedInfo.endHiddenIndex-qi;e<d.unifiedInfo.endHiddenIndex;e++){const i=$(this,ui,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1)}const i=d.unifiedInfo.oldStartIndex-qi,t=d.unifiedInfo.oldLength+qi,n=d.unifiedInfo.newStartIndex-qi,s=d.unifiedInfo.newLength+qi;d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{endHiddenIndex:d.unifiedInfo.endHiddenIndex-qi,oldStartIndex:i,oldLength:t,newStartIndex:n,newLength:s,plainText:`@@ -${i},${t} +${n},${s}`}),null===(l=$(this,gi,"f"))||void 0===l||delete l[e],$(this,gi,"f")[d.unifiedInfo.endHiddenIndex]=d}t&&this.notifyAll()}},this.onAllExpand=i=>{$(this,mi,"f")||("split"===i?(Object.keys($(this,fi,"f")||{}).forEach((i=>{this.onSplitHunkExpand("all",+i,!1)})),$(this,Fi,"f").state=!0):(Object.keys($(this,gi,"f")||{}).forEach((i=>{this.onUnifiedHunkExpand("all",+i,!1)})),$(this,_i,"f").state=!0),this.notifyAll())},this.onAllCollapse=i=>{$(this,mi,"f")||("split"===i?(Object.values($(this,ai,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values($(this,ri,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values($(this,fi,"f")||{}).forEach((i=>{i.splitInfo&&(i.splitInfo=Object.assign(Object.assign({},i.splitInfo),{oldStartIndex:i.splitInfo._oldStartIndex,oldLength:i.splitInfo._oldLength,newStartIndex:i.splitInfo._newStartIndex,newLength:i.splitInfo._newLength,startHiddenIndex:i.splitInfo._startHiddenIndex,endHiddenIndex:i.splitInfo._endHiddenIndex,plainText:i.splitInfo._plainText}))})),Object.keys($(this,fi,"f")||{}).forEach((i=>{const e=$(this,fi,"f")[i];e.splitInfo&&e.splitInfo.endHiddenIndex!==+i&&(delete $(this,fi,"f")[i],$(this,fi,"f")[e.splitInfo.endHiddenIndex]=e)})),$(this,Fi,"f").state=!1):(Object.values($(this,ui,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values($(this,gi,"f")||{}).forEach((i=>{i.unifiedInfo&&(i.unifiedInfo=Object.assign(Object.assign({},i.unifiedInfo),{oldStartIndex:i.unifiedInfo._oldStartIndex,oldLength:i.unifiedInfo._oldLength,newStartIndex:i.unifiedInfo._newStartIndex,newLength:i.unifiedInfo._newLength,startHiddenIndex:i.unifiedInfo._startHiddenIndex,endHiddenIndex:i.unifiedInfo._endHiddenIndex,plainText:i.unifiedInfo._plainText}))})),Object.keys($(this,gi,"f")||{}).forEach((i=>{const e=$(this,gi,"f")[i];e.unifiedInfo&&e.unifiedInfo.endHiddenIndex!==+i&&(delete $(this,gi,"f")[i],$(this,gi,"f")[e.unifiedInfo.endHiddenIndex]=e)})),$(this,_i,"f").state=!1),this.notifyAll())},this.getOldFileContent=()=>{var i;return null===(i=$(this,J,"f"))||void 0===i?void 0:i.raw},this.getNewFileContent=()=>{var i;return null===(i=$(this,K,"f"))||void 0===i?void 0:i.raw},this.getOldPlainLine=i=>{var e;return null===(e=$(this,ni,"f"))||void 0===e?void 0:e[i]},this.getOldSyntaxLine=i=>{var e;return null===(e=$(this,li,"f"))||void 0===e?void 0:e[i]},this.getNewPlainLine=i=>{var e;return null===(e=$(this,si,"f"))||void 0===e?void 0:e[i]},this.getNewSyntaxLine=i=>{var e;return null===(e=$(this,di,"f"))||void 0===e?void 0:e[i]},this.subscribe=i=>($(this,ci,"f").push(i),()=>{$(this,ci,"f").filter((e=>e!==i))}),this.notifyAll=i=>{var e;W(this,xi,(e=$(this,xi,"f"),++e),"f"),$(this,ci,"f").forEach((e=>{i&&e.isSyncExternal||e()})),$(this,Ci,"f").forEach(((i,e)=>{e.notifyAll(!0)}))},this.getUpdateCount=()=>$(this,xi,"f"),this.getExpandEnabled=()=>!$(this,mi,"f"),this.getBundle=()=>{const i=$(this,Li,"f"),e=$(this,vi,"f"),t=$(this,pi,"f"),n=$(this,wi,"f"),s=$(this,ei,"f"),l=$(this,Z,"f"),d=$(this,ni,"f"),h=$(this,li,"f"),o=$(this,hi,"f"),a=$(this,ti,"f"),r=$(this,ii,"f"),f=$(this,si,"f"),u=$(this,di,"f"),g=$(this,oi,"f"),c=this.splitLineLength,L=this.unifiedLineLength,v=this.fileLineLength,p=this.additionLength,w=this.deletionLength,x=$(this,mi,"f"),m=$(this,Ni,"f"),I=$(this,Hi,"f"),b=this.hasSomeLineCollapsed,N=$(this,Fi,"f"),H=$(this,_i,"f");return{hasInitRaw:i,hasInitSyntax:e,hasBuildSplit:t,hasBuildUnified:n,oldFileLines:s,oldFileDiffLines:l,oldFilePlainLines:d,oldFileSyntaxLines:h,oldFilePlaceholderLines:o,newFileLines:a,newFileDiffLines:r,newFilePlainLines:f,newFileSyntaxLines:u,newFilePlaceholderLines:g,splitLineLength:c,unifiedLineLength:L,fileLineLength:v,additionLength:p,deletionLength:w,splitLeftLines:$(this,ai,"f"),splitRightLines:$(this,ri,"f"),splitHunkLines:$(this,fi,"f"),unifiedLines:$(this,ui,"f"),unifiedHunkLines:$(this,gi,"f"),highlighterName:m,highlighterType:I,composeByDiff:x,hasSomeLineCollapsed:b,hasExpandSplitAll:N,hasExpandUnifiedAll:H,version:this._version_,theme:$(this,yi,"f"),isFullMerge:!1}},this.mergeBundle=(i,e=!0)=>{W(this,Li,i.hasInitRaw,"f"),W(this,vi,i.hasInitSyntax,"f"),W(this,pi,i.hasBuildSplit,"f"),W(this,wi,i.hasBuildUnified,"f"),W(this,mi,i.composeByDiff,"f"),W(this,Ni,i.highlighterName,"f"),W(this,Hi,i.highlighterType,"f"),W(this,ei,i.oldFileLines,"f"),W(this,Z,i.oldFileDiffLines,"f"),W(this,ni,i.oldFilePlainLines,"f"),W(this,li,i.oldFileSyntaxLines,"f"),W(this,hi,i.oldFilePlaceholderLines,"f"),W(this,ti,i.newFileLines,"f"),W(this,ii,i.newFileDiffLines,"f"),W(this,si,i.newFilePlainLines,"f"),W(this,di,i.newFileSyntaxLines,"f"),W(this,oi,i.newFilePlaceholderLines,"f"),this.splitLineLength=i.splitLineLength,this.unifiedLineLength=i.unifiedLineLength,this.fileLineLength=i.fileLineLength,this.additionLength=i.additionLength,this.deletionLength=i.deletionLength,this.hasSomeLineCollapsed=i.hasSomeLineCollapsed,W(this,Fi,i.hasExpandSplitAll,"f"),W(this,_i,i.hasExpandUnifiedAll,"f"),W(this,ai,i.splitLeftLines,"f"),W(this,ri,i.splitRightLines,"f"),W(this,fi,i.splitHunkLines,"f"),W(this,ui,i.unifiedLines,"f"),W(this,gi,i.unifiedHunkLines,"f"),W(this,yi,i.theme,"f"),W(this,Ii,!0,"f"),e&&this.notifyAll()},this._getHighlighterName=()=>$(this,Ni,"f"),this._getIsPureDiffRender=()=>$(this,mi,"f"),this._getTheme=()=>$(this,yi,"f"),this._addClonedInstance=i=>{const e=()=>{this._notifyOthers(i),this._mergeFullBundle(i._getFullBundle(),!1)};e.isSyncExternal=!0;const t=i.subscribe(e);$(this,Ci,"f").set(i,t)},this._notifyOthers=i=>{$(this,Ci,"f").forEach(((e,t)=>{t!==i&&t.notifyAll(!0)}))},this._delClonedInstance=i=>{const e=$(this,Ci,"f").get(i);null===e||void 0===e||e(),$(this,Ci,"f").delete(i)},this._getFullBundle=()=>{const i=this.getBundle(),e=$(this,J,"f"),t=$(this,K,"f"),n=$(this,Y,"f"),s=$(this,X,"f");return Object.assign(Object.assign({},i),{oldFileResult:e,newFileResult:t,diffLines:n,diffListResults:s,isFullMerge:!$(this,Ii,"f")||$(this,bi,"f")})},this._mergeFullBundle=(i,e=!0)=>{this.mergeBundle(i,e);try{W(this,J,i.oldFileResult?Q.createInstance(i.oldFileResult):null,"f"),W(this,K,i.newFileResult?Q.createInstance(i.newFileResult):null,"f"),W(this,Y,i.diffLines,"f"),W(this,X,i.diffListResults,"f"),W(this,bi,i.isFullMerge,"f")}catch(t){}},this._destroy=()=>{this.clearId(),$(this,ci,"f").splice(0,$(this,ci,"f").length),$(this,Ci,"f").forEach((i=>i())),$(this,Ci,"f").clear()},this.clear=()=>{this._destroy(),W(this,J,null,"f"),W(this,K,null,"f"),W(this,Y,null,"f"),W(this,X,null,"f"),W(this,ii,null,"f"),W(this,Z,null,"f"),W(this,ti,null,"f"),W(this,ei,null,"f"),W(this,di,null,"f"),W(this,li,null,"f"),W(this,fi,null,"f"),W(this,ai,null,"f"),W(this,ri,null,"f"),W(this,gi,null,"f"),W(this,ui,null,"f"),W(this,yi,void 0,"f")},Object.defineProperty(this,"__v_skip",{value:!0});const o=Array.from(new Set(s));this._oldFileName=i,this._newFileName=t,this._diffList=o,this._oldFileLang=E(l||i||d||t)||"txt",this._newFileLang=E(d||t||l||i)||"txt",this._oldFileContent=e,this._newFileContent=n,this.initId()}initId(){let i="--"+Math.random().toString().slice(2);for(;Gi.has(i);)i="--"+Math.random().toString().slice(2);Gi.add(i),W(this,ki,i,"f")}getId(){return $(this,ki,"f")}clearId(){Gi.delete($(this,ki,"f"))}initTheme(i){W(this,Si,$(this,yi,"f"),"f"),W(this,yi,i||$(this,yi,"f")||"light","f")}initRaw(){$(this,Li,"f")||($(this,z,"m",Ti).call(this),$(this,z,"m",Oi).call(this),$(this,z,"m",Ei).call(this),$(this,z,"m",Mi).call(this),$(this,z,"m",ji).call(this),W(this,Li,!0,"f"))}initSyntax({registerHighlighter:i}={}){(!$(this,vi,"f")||$(this,Si,"f")&&$(this,yi,"f")!==$(this,Si,"f"))&&($(this,z,"m",$i).call(this,{registerHighlighter:i}),$(this,z,"m",Mi).call(this),W(this,vi,!0,"f"))}init(){this.initRaw(),this.initSyntax()}buildSplitDiffLines(){var i,e,t,n,s,l;if($(this,pi,"f"))return;let d=1,h=1,o=!0,a=1/0;const r=(null===(i=$(this,J,"f"))||void 0===i?void 0:i.maxLineNumber)||0,f=(null===(e=$(this,K,"f"))||void 0===e?void 0:e.maxLineNumber)||0;for(0;d<=r||h<=f;){const i=$(this,z,"m",Wi).call(this,d),e=$(this,z,"m",Di).call(this,h),r=$(this,z,"m",Ai).call(this,d),f=$(this,z,"m",Bi).call(this,h),u=p.prototype.isIncludeableLine.call(i||{}),g=p.prototype.isIncludeableLine.call(e||{}),c=$(this,ri,"f").length,L=!i&&!e;if(i&&!e){if(i.newLineNumber&&i.newLineNumber>h){h++;continue}null!==i.newLineNumber&&void 0!==i.newLineNumber||h++}if(e&&!i){if(e.oldLineNumber&&e.oldLineNumber>d){d++;continue}null!==e.oldLineNumber&&void 0!==e.oldLineNumber||d++}if(!i&&!r&&!e&&!f)break;if(!i&&!e){if((null===(t=$(this,hi,"f"))||void 0===t?void 0:t[d])&&(null===(n=$(this,oi,"f"))||void 0===n?void 0:n[h])){d++,h++;continue}if(!r&&(null===(s=$(this,oi,"f"))||void 0===s?void 0:s[h])){h++;continue}if(!f&&(null===(l=$(this,hi,"f"))||void 0===l?void 0:l[d])){d++;continue}}if(u&&g||!u&&!g?($(this,ai,"f").push({lineNumber:d++,value:r,diff:i,isHidden:L,_isHidden:L}),$(this,ri,"f").push({lineNumber:h++,value:f,diff:e,isHidden:L,_isHidden:L})):u?($(this,ai,"f").push({lineNumber:d++,value:r,diff:i,isHidden:L,_isHidden:L}),$(this,ri,"f").push({})):g&&($(this,ai,"f").push({}),$(this,ri,"f").push({lineNumber:h++,value:f,diff:e,isHidden:L,_isHidden:L})),!o&&L&&(a=c),L&&(this.hasSomeLineCollapsed=!0),o=L,(null===i||void 0===i?void 0:i.prevHunkLine)||(null===e||void 0===e?void 0:e.prevHunkLine)){const t=(null===i||void 0===i?void 0:i.prevHunkLine)||e.prevHunkLine;t.isFirst?(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:0,endHiddenIndex:t.hunkInfo.newStartIndex-1,plainText:t.text,_startHiddenIndex:0,_endHiddenIndex:t.hunkInfo.newStartIndex-1,_plainText:t.text}),a=1/0):Number.isFinite(a)&&(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:a,endHiddenIndex:c,plainText:t.text,_startHiddenIndex:a,_endHiddenIndex:c,_plainText:t.text}),a=1/0),W(this,fi,Object.assign(Object.assign({},$(this,fi,"f")),{[c]:t}),"f")}}if(Number.isFinite(a)){const i=new p("",v.Hunk,null,null,null);i.isLast=!0,i.splitInfo={startHiddenIndex:a,endHiddenIndex:$(this,ri,"f").length,_startHiddenIndex:a,_endHiddenIndex:$(this,ri,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},W(this,fi,Object.assign(Object.assign({},$(this,fi,"f")),{[$(this,ri,"f").length]:i}),"f"),a=1/0}this.splitLineLength=$(this,ri,"f").length,W(this,pi,!0,"f"),this.notifyAll()}buildUnifiedDiffLines(){var i,e,t,n,s,l;if($(this,wi,"f"))return;let d=1,h=1,o=!0,a=1/0;const r=(null===(i=$(this,J,"f"))||void 0===i?void 0:i.maxLineNumber)||0,f=(null===(e=$(this,K,"f"))||void 0===e?void 0:e.maxLineNumber)||0;for(0;d<=r||h<=f;){const i=$(this,z,"m",Ai).call(this,d),e=$(this,z,"m",Wi).call(this,d),r=$(this,z,"m",Bi).call(this,h),f=$(this,z,"m",Di).call(this,h),u=p.prototype.isIncludeableLine.call(e||{}),g=p.prototype.isIncludeableLine.call(f||{}),c=$(this,ui,"f").length,L=!e&&!f;if(e&&!f){if(e.newLineNumber&&e.newLineNumber>h){h++;continue}null!==e.newLineNumber&&void 0!==e.newLineNumber||h++}if(f&&!e){if(f.oldLineNumber&&f.oldLineNumber>d){d++;continue}null!==f.oldLineNumber&&void 0!==f.oldLineNumber||d++}if(!i&&!r&&!f&&!e)break;if(!e&&!f){if((null===(t=$(this,hi,"f"))||void 0===t?void 0:t[d])&&(null===(n=$(this,oi,"f"))||void 0===n?void 0:n[h])){d++,h++;continue}if(!i&&(null===(s=$(this,oi,"f"))||void 0===s?void 0:s[h])){h++;continue}if(!r&&(null===(l=$(this,hi,"f"))||void 0===l?void 0:l[d])){d++;continue}}if(u||g?u?$(this,ui,"f").push({oldLineNumber:d++,value:i,diff:e,isHidden:L,_isHidden:L}):g&&$(this,ui,"f").push({newLineNumber:h++,value:r,diff:f,isHidden:L,_isHidden:L}):$(this,ui,"f").push({oldLineNumber:d++,newLineNumber:h++,value:r,diff:f,isHidden:L,_isHidden:L}),!o&&L&&(a=c),L&&(this.hasSomeLineCollapsed=!0),o=L,(null===e||void 0===e?void 0:e.prevHunkLine)||(null===f||void 0===f?void 0:f.prevHunkLine)){const i=(null===e||void 0===e?void 0:e.prevHunkLine)||f.prevHunkLine;i.isFirst?(i.unifiedInfo=Object.assign(Object.assign({},i.hunkInfo),{startHiddenIndex:0,endHiddenIndex:i.hunkInfo.newStartIndex-1,plainText:i.text,_startHiddenIndex:0,_endHiddenIndex:i.hunkInfo.newStartIndex-1,_plainText:i.text}),a=1/0):Number.isFinite(a)&&(i.unifiedInfo=Object.assign(Object.assign({},i.hunkInfo),{startHiddenIndex:a,endHiddenIndex:c,plainText:i.text,_startHiddenIndex:a,_endHiddenIndex:c,_plainText:i.text}),a=1/0),W(this,gi,Object.assign(Object.assign({},$(this,gi,"f")),{[c]:i}),"f")}}if(Number.isFinite(a)){const i=new p("",v.Hunk,null,null,null);i.isLast=!0,i.unifiedInfo={startHiddenIndex:a,endHiddenIndex:$(this,ui,"f").length,_startHiddenIndex:a,_endHiddenIndex:$(this,ui,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},W(this,gi,Object.assign(Object.assign({},$(this,gi,"f")),{[$(this,ui,"f").length]:i}),"f"),a=1/0}this.unifiedLineLength=$(this,ui,"f").length,W(this,wi,!0,"f"),this.notifyAll()}get hasExpandSplitAll(){return $(this,Fi,"f").state}get hasExpandUnifiedAll(){return $(this,_i,"f").state}}var Vi,zi;J=new WeakMap,K=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,ii=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,si=new WeakMap,li=new WeakMap,di=new WeakMap,hi=new WeakMap,oi=new WeakMap,ai=new WeakMap,ri=new WeakMap,fi=new WeakMap,ui=new WeakMap,gi=new WeakMap,ci=new WeakMap,Li=new WeakMap,vi=new WeakMap,pi=new WeakMap,wi=new WeakMap,xi=new WeakMap,mi=new WeakMap,Ii=new WeakMap,bi=new WeakMap,Ni=new WeakMap,Hi=new WeakMap,yi=new WeakMap,Si=new WeakMap,Fi=new WeakMap,_i=new WeakMap,ki=new WeakMap,Ci=new WeakMap,z=new WeakSet,Ei=function(){this._diffList&&W(this,X,this._diffList.map((i=>R.parse(i))),"f")},Ti=function(){(this._oldFileContent||this._newFileContent)&&(this._oldFileContent&&W(this,J,V(this._oldFileContent,this._oldFileLang,$(this,yi,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),this._newFileContent&&W(this,K,V(this._newFileContent,this._newFileLang,$(this,yi,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"))},Oi=function(){var i,e,t,n,s,l,d,h;null===(i=$(this,J,"f"))||void 0===i||i.doRaw(),W(this,ei,null===(e=$(this,J,"f"))||void 0===e?void 0:e.rawFile,"f"),W(this,ni,null===(t=$(this,J,"f"))||void 0===t?void 0:t.plainFile,"f"),null===(n=$(this,K,"f"))||void 0===n||n.doRaw(),W(this,ti,null===(s=$(this,K,"f"))||void 0===s?void 0:s.rawFile,"f"),W(this,si,null===(l=$(this,K,"f"))||void 0===l?void 0:l.plainFile,"f"),this.fileLineLength=Math.max(this.fileLineLength,(null===(d=$(this,J,"f"))||void 0===d?void 0:d.maxLineNumber)||0,(null===(h=$(this,K,"f"))||void 0===h?void 0:h.maxLineNumber)||0)},ji=function(){if(this._oldFileContent&&this._newFileContent)return;const i={},e={};if(this._oldFileContent||this._newFileContent){if($(this,J,"f")){let i=1,e=1,t="",n=!1;for(;e<=$(this,J,"f").maxLineNumber;){const s=$(this,z,"m",Di).call(this,i++),l=$(this,z,"m",Wi).call(this,e);s?(t+=s.text,e=s.oldLineNumber?s.oldLineNumber+1:e):(l||(t+=$(this,z,"m",Ai).call(this,e)),e++),!n&&s&&l&&(n=n||s.noTrailingNewLine!==l.noTrailingNewLine)}if(!n&&t===this._oldFileContent)return;this._newFileContent=t,W(this,K,V(this._newFileContent,this._newFileLang,$(this,yi,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f")}else if($(this,K,"f")){let i=1,e=1,t="",n=!1;for(;e<=$(this,K,"f").maxLineNumber;){const s=$(this,z,"m",Wi).call(this,i++),l=$(this,z,"m",Di).call(this,e);s?(t+=s.text,e=s.newLineNumber?s.newLineNumber+1:e):(l||(t+=$(this,z,"m",Bi).call(this,e)),e++),!n&&l&&s&&(n=n||l.noTrailingNewLine!==s.noTrailingNewLine)}if(!n&&t===this._newFileContent)return;this._oldFileContent=t,W(this,J,V(this._oldFileContent,this._oldFileLang,$(this,yi,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f")}}else{let t=1,n=1,s="",l="",d=!1;for(;n<=this.diffLineLength||t<=this.diffLineLength;){const h=n++,o=t++,a=$(this,z,"m",Wi).call(this,h),r=$(this,z,"m",Di).call(this,o);a?s+=a.text:(s+="\n",i[h]=!0),r?l+=r.text:(l+="\n",e[o]=!0),!d&&a&&r&&(d=d||a.noTrailingNewLine!==r.noTrailingNewLine)}if(!d&&s===l)return;this._oldFileContent=s,this._newFileContent=l,W(this,J,V(this._oldFileContent,this._oldFileLang,$(this,yi,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),W(this,K,V(this._newFileContent,this._newFileLang,$(this,yi,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),W(this,hi,i,"f"),W(this,oi,e,"f"),W(this,mi,!0,"f")}$(this,z,"m",Oi).call(this)},Mi=function(){var i;if(!(null===(i=$(this,X,"f"))||void 0===i?void 0:i.length))return;const e=i=>$(this,z,"m",Bi).call(this,i),t=i=>$(this,z,"m",Ai).call(this,i),n=i=>$(this,z,"m",Pi).call(this,i),s=i=>$(this,z,"m",Ui).call(this,i);W(this,Y,[],"f"),this.additionLength=0,this.deletionLength=0;const l=[];$(this,X,"f").forEach((i=>{i.hunks.forEach((i=>{let d=[],h=[];i.lines.forEach((i=>{i.type===v.Add?(d.push(i),this.additionLength++):i.type===v.Delete?(h.push(i),this.deletionLength++):(T(d,h,{getAdditionRaw:e,getDeletionRaw:t,getAdditionSyntax:n,getDeletionSyntax:s}),d=[],h=[]),l.push(i)})),T(d,h,{getAdditionRaw:e,getDeletionRaw:t,getAdditionSyntax:n,getDeletionSyntax:s})}))}));let d=null;W(this,Y,l.map(((i,e)=>{var t;const n=i;if(n.index=e,n.isFirst=0===e,n.type===v.Hunk){const i=null===(t=n.text.split("@@"))||void 0===t?void 0:t[1].split(" ").filter(Boolean),e=(null===i||void 0===i?void 0:i[0])||"",s=(null===i||void 0===i?void 0:i[1])||"",[l,h]=e.split(","),[o,a]=s.split(",");n.hunkInfo={oldStartIndex:-Number(l),oldLength:Number(h),newStartIndex:+Number(o),newLength:Number(a),_oldStartIndex:-Number(l),_oldLength:Number(h),_newStartIndex:+Number(o),_newLength:Number(a)},d=n}else if(n.type===v.Context){const e=i;d&&(e.prevHunkLine=d,d=null)}else d=null;return n})),"f"),W(this,Z,{},"f"),W(this,ii,{},"f");$(this,Y,"f").forEach((i=>{i.oldLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,i.oldLineNumber),$(this,Z,"f")[i.oldLineNumber]=i),i.newLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,i.newLineNumber),$(this,ii,"f")[i.newLineNumber]=i)}))},Ri=function({registerHighlighter:i}){var e,t,n,s;null===(e=$(this,J,"f"))||void 0===e||e.doSyntax({registerHighlighter:i,theme:$(this,yi,"f")}),W(this,li,null===(t=$(this,J,"f"))||void 0===t?void 0:t.syntaxFile,"f"),null===(n=$(this,K,"f"))||void 0===n||n.doSyntax({registerHighlighter:i,theme:$(this,yi,"f")}),W(this,di,null===(s=$(this,K,"f"))||void 0===s?void 0:s.syntaxFile,"f")},$i=function({registerHighlighter:i}={}){var e,t,n,s;"class"!==$(this,Hi,"f")&&($(this,Ii,"f")&&!$(this,bi,"f")||($(this,z,"m",Ri).call(this,{registerHighlighter:i}),W(this,Ni,(null===(e=$(this,J,"f"))||void 0===e?void 0:e.highlighterName)||(null===(t=$(this,K,"f"))||void 0===t?void 0:t.highlighterName)||$(this,Ni,"f"),"f"),W(this,Hi,(null===(n=$(this,J,"f"))||void 0===n?void 0:n.highlighterType)||(null===(s=$(this,K,"f"))||void 0===s?void 0:s.highlighterType)||$(this,Hi,"f"),"f")))},Wi=function(i){var e;if(i)return null===(e=$(this,Z,"f"))||void 0===e?void 0:e[i]},Di=function(i){var e;if(i)return null===(e=$(this,ii,"f"))||void 0===e?void 0:e[i]},Ai=function(i){var e;return null===(e=$(this,ei,"f"))||void 0===e?void 0:e[i]},Bi=function(i){var e;return null===(e=$(this,ti,"f"))||void 0===e?void 0:e[i]},Ui=function(i){var e;return null===(e=$(this,li,"f"))||void 0===e?void 0:e[i]},Pi=function(i){var e;return null===(e=$(this,di,"f"))||void 0===e?void 0:e[i]},function(i){i[i.hunk=1]="hunk",i[i.content=2]="content",i[i.widget=3]="widget",i[i.extend=4]="extend"}(Vi||(Vi={})),function(i){i[i.old=1]="old",i[i.new=2]="new"}(zi||(zi={}))}}]);