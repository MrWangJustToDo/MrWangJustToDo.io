"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6576],{56576:function(i,e,t){t.d(e,{gQ:function(){return s.gQ},uN:function(){return zi}});t(27497);var n,s=t(31278);!function(i){i.None="None",i.Up="Up",i.Down="Down",i.Both="Both",i.Short="Short"}(n||(n={}));class l{constructor(i,e,t,n,s){this.header=i,this.lines=e,this.unifiedDiffStart=t,this.unifiedDiffEnd=n,this.expansionType=s}equals(i){return this===i||this.header.equals(i.header)&&this.unifiedDiffStart===i.unifiedDiffStart&&this.unifiedDiffEnd===i.unifiedDiffEnd&&this.expansionType===i.expansionType&&this.lines.length===i.lines.length&&this.lines.every(((e,t)=>e.equals(i.lines[t])))}}class d{constructor(i,e,t,n){this.oldStartLine=i,this.oldLineCount=e,this.newStartLine=t,this.newLineCount=n}toDiffLineRepresentation(){return`@@ -${this.oldStartLine},${this.oldLineCount} +${this.newStartLine},${this.newLineCount} @@`}equals(i){return this.oldStartLine===i.oldStartLine&&this.oldLineCount===i.oldLineCount&&this.newStartLine===i.newStartLine&&this.oldStartLine===i.oldStartLine}}"function"===typeof SuppressedError&&SuppressedError;const h="--diff-add-content-highlight--",o="--diff-del-content-highlight--";var a;!function(i){i[i.CRLF=1]="CRLF",i[i.CR=2]="CR",i[i.LF=3]="LF",i[i.NEWLINE=4]="NEWLINE",i[i.NORMAL=5]="NORMAL",i[i.NULL=6]="NULL"}(a||(a={}));const r=i=>{switch(i){case a.LF:return"\u240a";case a.CR:return"\u240d";case a.CRLF:return"\u240d\u240a";default:return""}};var f;!function(i){i[i.SplitGitHub=1]="SplitGitHub",i[i.SplitGitLab=2]="SplitGitLab",i[i.Split=3]="Split",i[i.Unified=4]="Unified"}(f||(f={}));function u(i){return i.location+i.length}function g(i,e,t,n,s){const l=Math.min(e.length,n.length),d=s?u(e)-1:e.location,h=s?u(n)-1:n.location,o=s?-1:1;let a=0;for(;Math.abs(a)<l&&i[d+a]===t[h+a];)a+=o;return Math.abs(a)}function c(i){return 0===i.trim().length||i.length>=1e3}function L(i,e){const t=i.text,n=e.text,s=t.slice(-2),l=n.slice(-2),d="\r\n"===s?a.CRLF:s.endsWith("\r")?a.CR:s.endsWith("\n")?a.LF:a.NULL,h="\r\n"===l?a.CRLF:l.endsWith("\r")?a.CR:l.endsWith("\n")?a.LF:a.NULL,o=i.noTrailingNewLine!==e.noTrailingNewLine;return d!==h||o?{addSymbol:o?i.noTrailingNewLine?a.NEWLINE:a.NORMAL:d,addString:d===a.CRLF?t.slice(0,-2):d===a.CR||d===a.LF?t.slice(0,-1):t,delSymbol:o?e.noTrailingNewLine?a.NEWLINE:a.NORMAL:h,delString:h===a.CRLF?n.slice(0,-2):h===a.CR||h===a.LF?n.slice(0,-1):n}:{addSymbol:void 0,addString:t,delSymbol:void 0,delString:n}}function p(i,e){const t=i.text,n=e.text,{addString:s,delString:l,addSymbol:d,delSymbol:h}=L(i,e);if(s===l&&d&&h)return{addRange:{range:{location:s.length,length:t.length-s.length},hasLineChange:!0,newLineSymbol:d},delRange:{range:{location:l.length,length:n.length-l.length},hasLineChange:!0,newLineSymbol:h}};let o={location:0,length:l.length},a={location:0,length:s.length};if(c(t)||c(n))return a.length=0,o.length=0,{addRange:{range:a},delRange:{range:o}};const r=g(l,o,s,a,!1);o={location:o.location+r,length:o.length-r},a={location:a.location+r,length:a.length-r};const f=g(l,o,s,a,!0);return o.length-=f,a.length-=f,{addRange:{range:a,hasLineChange:(s.slice(0,a.location)+s.slice(a.location+a.length)).trim().length>0},delRange:{range:o,hasLineChange:(l.slice(0,o.location)+l.slice(o.location+o.length)).trim().length>0}}}var v;!function(i){i[i.Context=0]="Context",i[i.Add=1]="Add",i[i.Delete=2]="Delete",i[i.Hunk=3]="Hunk"}(v||(v={}));class w{constructor(i,e,t,n,s,l=!1,d,h,o,a){this.text=i,this.type=e,this.originalLineNumber=t,this.oldLineNumber=n,this.newLineNumber=s,this.noTrailingNewLine=l,this.changes=d,this.diffChanges=h,this.plainTemplate=o,this.syntaxTemplate=a}withNoTrailingNewLine(i){return new w(this.text,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,i)}isIncludeableLine(){return this.type===v.Add||this.type===v.Delete}equals(i){return this.text===i.text&&this.type===i.type&&this.originalLineNumber===i.originalLineNumber&&this.oldLineNumber===i.oldLineNumber&&this.newLineNumber===i.newLineNumber&&this.noTrailingNewLine===i.noTrailingNewLine}clone(i){return new w(i,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,this.noTrailingNewLine)}}const x=/["'&<>]/;let m=!1;const I=i=>i;let b=I,N=I;const H=()=>m,y=i=>m&&I!==b?b(i):i,S=i=>function(i){const e=""+i,t=x.exec(e);if(!t)return e;let n,s,l="",d=0;for(s=t.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}d!==s&&(l+=e.slice(d,s)),d=s+1,l+=n}return d!==s?l+e.slice(d,s):l}(i).replace(/\n/g,"").replace(/\r/g,""),F=({diffLine:i,rawLine:e,operator:t})=>{if(i.plainTemplate)return;const n=i.changes;if(!n||!n.hasLineChange||!e)return;const s=H()?y:S,l=n.range,d=e.slice(0,l.location),a=e.slice(l.location,l.location+l.length),f=e.slice(l.location+l.length),u=a.includes("\n"),g=u?a.replace("\n","").replace("\r",""):a,c=n.newLineSymbol,L=`<span data-range-start="${l.location}" data-range-end="${l.location+l.length}">${s(d)}<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-radius: 0.2em;">${u?`${s(g)}<span data-newline-symbol>${r(c)}</span>`:s(a)}</span>${s(f)}</span>`;i.plainTemplate=L},_=({diffLine:i,syntaxLine:e,operator:t})=>{var n;if(i.syntaxTemplate||!e)return;const s=i.changes;if(!s||!s.hasLineChange)return;const l=H()?y:S,d=s.range;let a=`<span data-range-start="${d.location}" data-range-end="${d.location+d.length}">`;null===(n=null===e||void 0===e?void 0:e.nodeList)||void 0===n||n.forEach((({node:i,wrapper:e})=>{var n,f,u,g,c,L;if(i.endIndex<d.location||d.location+d.length<i.startIndex)a+=`<span data-start="${i.startIndex}" data-end="${i.endIndex}" class="${null===(f=(null===(n=null===e||void 0===e?void 0:e.properties)||void 0===n?void 0:n.className)||[])||void 0===f?void 0:f.join(" ")}" style="${(null===(u=null===e||void 0===e?void 0:e.properties)||void 0===u?void 0:u.style)||""}">${l(i.value)}</span>`;else{const n=d.location-i.startIndex,f=n<0?0:n,u=i.value.slice(0,f),p=i.value.slice(f,n+d.length),v=i.value.slice(n+d.length),w=u.length||d.location===i.startIndex,x=v.length||i.endIndex===d.location+d.length-1,m=p.includes("\n"),I=m?p.replace("\n","").replace("\r",""):p;a+=`<span data-start="${i.startIndex}" data-end="${i.endIndex}" class="${null===(c=(null===(g=null===e||void 0===e?void 0:e.properties)||void 0===g?void 0:g.className)||[])||void 0===c?void 0:c.join(" ")}" style="${(null===(L=null===e||void 0===e?void 0:e.properties)||void 0===L?void 0:L.style)||""}">${l(u)}<span data-diff-highlight style="background-color: var(${"add"===t?h:o});border-top-left-radius: ${w?"0.2em":"0"};border-bottom-left-radius: ${w?"0.2em":"0"};border-top-right-radius: ${x||m?"0.2em":"0"};border-bottom-right-radius: ${x||m?"0.2em":"0"}">${m?`${l(I)}<span data-newline-symbol>${r(s.newLineSymbol)}</span>`:l(p)}</span>${l(v)}</span>`}})),a+="</span>",i.syntaxTemplate=a},k=i=>{if(!i)return"";return(H()?y:S)(i)};function T(i,e){throw new Error(e)}function C(i){var e,t;if(0===i.length)return 0;for(let n=i.length-1;n>=0;n--){const s=i[n];for(let i=s.lines.length-1;i>=0;i--){const n=s.lines[i];if(n.type===v.Hunk)continue;const l=null!==(e=n.newLineNumber)&&void 0!==e?e:0,d=null!==(t=n.oldLineNumber)&&void 0!==t?t:0;return l>d?l:d}}return 0}const E=i=>{const e=i.lastIndexOf(".");return i.slice(e+1)},O=(i,e,{getAdditionRaw:t,getDeletionRaw:n,getAdditionSyntax:s,getDeletionSyntax:l})=>{if(i.length===e.length){const d=i.length;for(let h=0;h<d;h++){const d=i[h],o=e[h];if(!d.changes||!o.changes){const i=d.clone(t(d.newLineNumber)||d.text||""),e=o.clone(n(o.oldLineNumber)||o.text||""),{addRange:s,delRange:l}=p(i,e);d.changes=s,o.changes=l}d.plainTemplate&&o.plainTemplate||(F({diffLine:d,rawLine:t(d.newLineNumber),operator:"add"}),F({diffLine:o,rawLine:n(o.oldLineNumber),operator:"del"})),d.syntaxTemplate&&o.syntaxTemplate||(_({diffLine:d,syntaxLine:s(d.newLineNumber),operator:"add"}),_({diffLine:o,syntaxLine:l(o.oldLineNumber),operator:"del"}))}}},M=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/,j=/[\u202A-\u202E]|[\u2066-\u2069]/,R=new Set(["+","-"," ","\\"]);const $=new class{constructor(){Object.defineProperty(this,"__v_skip",{value:!0}),this.reset()}reset(){this.ls=0,this.le=-1,this.text=""}nextLine(){return this.ls=this.le+1,!(this.ls>=this.text.length)&&(this.le=this.text.indexOf("\n",this.ls),-1===this.le&&(this.le=this.text.length),this.ls!==this.le)}readLine(i){return i?this.nextLine()?this.text.substring(this.ls,this.le):null:this.nextLine()?this.text.substring(this.ls+1,this.le+1):null}lineStartsWith(i){return this.text.startsWith(i,this.ls)}lineEndsWith(i){return this.text.endsWith(i,this.le)}peek(){const i=this.le+1;return i<this.text.length?this.text[i]:null}parseDiffHeader(){for(;this.nextLine();){if(this.lineStartsWith("Binary files ")&&this.lineEndsWith("differ"))return{isBinary:!0};if(this.lineStartsWith("+++"))return{isBinary:!1}}return null}numberFromGroup(i,e,t=null){const n=i[e];if(!n){if(!t)throw new Error(`Group ${e} missing from regexp match and no defaultValue was provided`);return t}const s=parseInt(n,10);if(isNaN(s))throw new Error(`Could not parse capture group ${e} into number: ${n}`);return s}parseHunkHeader(i){const e=M.exec(i);if(!e)throw new Error("Invalid hunk header format");const t=this.numberFromGroup(e,1),n=this.numberFromGroup(e,2,1),s=this.numberFromGroup(e,3),l=this.numberFromGroup(e,4,1);return new d(t,n,s,l)}parseLinePrefix(i){return i&&i.length&&R.has(i[0])?i[0]:null}parseHunk(i,e,t){const s=this.readLine(!0);if(!s)throw new Error("Expected hunk header but reached end of diff");const d=this.parseHunkHeader(s),h=new Array;let o;h.push(new w(s,v.Hunk,1,null,null));let a=d.oldStartLine,r=d.newStartLine,f=i;for(;o=this.parseLinePrefix(this.peek());){const i=this.readLine(!1);if(!i)throw new Error("Expected unified diff line but reached end of diff");if("\\"===o){if(i.length<12)throw new Error('Expected "no newline at end of file" marker to be at least 12 bytes long');const e=h.length-1,t=h[e];h[e]=t.withNoTrailingNewLine(!0);continue}let e;if(f++,"+"===o)e=new w(i,v.Add,f,null,r++);else if("-"===o)e=new w(i,v.Delete,f,a++,null);else{if(" "!==o)return T(0,`Unknown DiffLinePrefix: ${o}`);e=new w(i,v.Context,f,a++,r++)}h.push(e)}if(1===h.length)throw new Error("Malformed diff, empty hunk");return new l(d,h,i,i+h.length-1,function(i,e,t){const s=null===t?1/0:e.oldStartLine-t.header.oldStartLine-t.header.oldLineCount;return 0===i?e.oldStartLine>1&&e.newStartLine>1?n.Up:n.None:s<=40?n.Short:n.Both}(e,d,t))}parse(i){this.text=i;try{const e=this.parseDiffHeader(),t=this.le,n=this.text.substring(0,t);if(!e)return{header:n,contents:"",hunks:[],isBinary:!1,maxLineNumber:0,hasHiddenBidiChars:!1};if(e.isBinary)return{header:n,contents:"",hunks:[],isBinary:!0,maxLineNumber:0,hasHiddenBidiChars:!1};const s=new Array;let l=0,d=null;do{const i=this.parseHunk(l,s.length,d);s.push(i),d=i,l+=i.lines.length}while(this.peek());return{header:n,contents:this.text.substring(t+1,this.le).replace(/\n\\ No newline at end of file/g,""),hunks:s,isBinary:e.isBinary,maxLineNumber:C(s),hasHiddenBidiChars:j.test(i)}}finally{this.reset()}}};function W(i,e,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(i):n?n.value:e.get(i)}function D(i,e,t,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?i!==e||!s:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(i,t):s?s.value=t:e.set(i,t),t}var A,B,U,P,G;"function"===typeof SuppressedError&&SuppressedError;class q extends Map{constructor(){super(...arguments),A.add(this),B.set(this,[]),U.set(this,30)}get maxLength(){return W(this,U,"f")}setMaxLength(i){D(this,U,i,"f"),W(this,A,"m",P).call(this)}set(i,e){return W(this,U,"f")<=0||this.has(i)?this:(W(this,B,"f").push(i),W(this,A,"m",P).call(this),super.set(i,e))}}B=new WeakMap,U=new WeakMap,A=new WeakSet,P=function(){for(;W(this,B,"f").length>W(this,U,"f");){const i=W(this,B,"f").shift();this.delete(i)}};const Q=new q;Q.setMaxLength(50),Q.name="@git-diff-view/core";class V{static createInstance(i){var e;const t=new V(null===i||void 0===i?void 0:i.raw,null===i||void 0===i?void 0:i.lang,null===i||void 0===i?void 0:i.fileName);return t.ast=null===i||void 0===i?void 0:i.ast,t.rawFile=(null===i||void 0===i?void 0:i.rawFile)||{},t.plainFile=(null===i||void 0===i?void 0:i.plainFile)||{},t.hasDoRaw=null===i||void 0===i?void 0:i.hasDoRaw,t.rawLength=null===i||void 0===i?void 0:i.rawLength,t.syntaxFile=(null===i||void 0===i?void 0:i.syntaxFile)||{},t.hasDoSyntax=null===i||void 0===i?void 0:i.hasDoSyntax,t.syntaxLength=null===i||void 0===i?void 0:i.syntaxLength,t.highlighterName=null===i||void 0===i?void 0:i.highlighterName,t.highlighterType=null===i||void 0===i?void 0:i.highlighterType,t.maxLineNumber=null===i||void 0===i?void 0:i.maxLineNumber,t.enableTemplate=null===(e=null===i||void 0===i?void 0:i.enableTemplate)||void 0===e||e,t}constructor(i,e,t){var n;G.add(this),this.raw=i,this.lang=e,this.fileName=t,this.rawFile={},this.hasDoRaw=!1,this.syntaxFile={},this.plainFile={},this.hasDoSyntax=!1,this.maxLineNumber=0,this.enableTemplate=!0,this.raw=(n=i,m&&I!==N?N(n):n),Object.defineProperty(this,"__v_skip",{value:!0})}doSyntax({registerHighlighter:i,theme:e}){if(!this.raw||this.hasDoSyntax)return;const t=i||s.gQ;if(this.syntaxLength)return void 0;if(this.rawLength>t.maxLineToIgnoreSyntax)return void 0;let n=t;try{t.hasRegisteredCurrentLang(this.lang)||(n=s.gQ)}catch(h){n=s.gQ}if(this.ast=n.getAST(this.raw,this.fileName,this.lang,e),!this.ast)return;const{syntaxFileObject:l,syntaxFileLineNumber:d}=n.processAST(this.ast);this.enableTemplate&&Object.values(l).forEach((i=>{i.template=(i=>{var e;let t="";const n=H()?y:S;return null===(e=null===i||void 0===i?void 0:i.nodeList)||void 0===e||e.forEach((({node:i,wrapper:e})=>{var s,l,d;t+=`<span data-start="${i.startIndex}" data-end="${i.endIndex}" class="${null===(l=(null===(s=null===e||void 0===e?void 0:e.properties)||void 0===s?void 0:s.className)||[])||void 0===l?void 0:l.join(" ")}" style="${(null===(d=null===e||void 0===e?void 0:e.properties)||void 0===d?void 0:d.style)||""}">${n(i.value)}</span>`})),t})(i)})),this.syntaxFile=l,this.syntaxLength=d,this.highlighterName=n.name,this.highlighterType=n.type,this.hasDoSyntax=!0}doRaw(){if(!this.raw||this.hasDoRaw)return;const i=this.raw.split("\n");this.rawLength=i.length,this.maxLineNumber=i.length,this.rawFile={},this.plainFile={};for(let e=0;e<i.length;e++)this.rawFile[e+1]=e<i.length-1?i[e]+"\n":i[e],this.enableTemplate&&(this.plainFile[e+1]={value:this.rawFile[e+1],template:k(this.rawFile[e+1])});this.hasDoRaw=!0}}function z(i,e,t,n,s){let l=i+"--0.0.29--"+t+"--"+e;s&&(l=s+"--0.0.29--"+t+"--"+e);let d=i+"--0.0.29--"+("light"===t?"dark":"light")+"--"+e;if(s&&(d=s+"--0.0.29--"+("light"===t?"dark":"light")+"--"+e),Q.has(l))return Q.get(l);if(Q.has(d)){const i=Q.get(d);if("class"===i.highlighterType)return i}const h=new V(i,e,n);return Q.set(l,h),h}G=new WeakSet;var J,K,X,Y,Z,ii,ei,ti,ni,si,li,di,hi,oi,ai,ri,fi,ui,gi,ci,Li,pi,vi,wi,xi,mi,Ii,bi,Ni,Hi,yi,Si,Fi,_i,ki,Ti,Ci,Ei,Oi,Mi,ji,Ri,$i,Wi,Di,Ai,Bi,Ui,Pi,Gi,qi;let Qi=40;const Vi=new Set;class zi{static createInstance(i,e){var t,n,s,l,d,h;const o=new zi((null===(t=null===i||void 0===i?void 0:i.oldFile)||void 0===t?void 0:t.fileName)||"",(null===(n=null===i||void 0===i?void 0:i.oldFile)||void 0===n?void 0:n.content)||"",(null===(s=null===i||void 0===i?void 0:i.newFile)||void 0===s?void 0:s.fileName)||"",(null===(l=null===i||void 0===i?void 0:i.newFile)||void 0===l?void 0:l.content)||"",(null===i||void 0===i?void 0:i.hunks)||[],(null===(d=null===i||void 0===i?void 0:i.oldFile)||void 0===d?void 0:d.fileLang)||"",(null===(h=null===i||void 0===i?void 0:i.newFile)||void 0===h?void 0:h.fileLang)||"");return e&&(e.isFullMerge?o._mergeFullBundle(e):o.mergeBundle(e)),o}constructor(i,e,t,n,s,l,d,h){J.add(this),this.uuid=h,K.set(this,void 0),X.set(this,void 0),Y.set(this,void 0),Z.set(this,void 0),ii.set(this,void 0),ei.set(this,void 0),ti.set(this,void 0),ni.set(this,void 0),si.set(this,void 0),li.set(this,void 0),di.set(this,void 0),hi.set(this,void 0),oi.set(this,void 0),ai.set(this,void 0),ri.set(this,[]),fi.set(this,[]),ui.set(this,void 0),gi.set(this,[]),ci.set(this,void 0),Li.set(this,[]),pi.set(this,!1),vi.set(this,!1),wi.set(this,!1),xi.set(this,!1),mi.set(this,0),Ii.set(this,!1),bi.set(this,!1),Ni.set(this,!0),Hi.set(this,!1),yi.set(this,void 0),Si.set(this,void 0),Fi.set(this,"light"),_i.set(this,void 0),ki.set(this,{state:!1}),Ti.set(this,{state:!1}),this._version_="0.0.29",this._oldFileName="",this._oldFileContent="",this._oldFileLang="",this._newFileName="",this._newFileContent="",this._newFileLang="",this._diffList=[],this.diffLineLength=0,this.splitLineLength=0,this.unifiedLineLength=0,this.fileLineLength=0,this.additionLength=0,this.deletionLength=0,this.hasSomeLineCollapsed=!1,Ci.set(this,""),Ei.set(this,new Map),this.getSplitLeftLine=i=>W(this,ri,"f")[i],this.getSplitLineByLineNumber=(i,e)=>{var t,n;return e===Ki.old?null===(t=W(this,ri,"f"))||void 0===t?void 0:t.find((e=>e.lineNumber===i)):null===(n=W(this,fi,"f"))||void 0===n?void 0:n.find((e=>e.lineNumber===i))},this.getSplitLineIndexByLineNumber=(i,e)=>{var t,n;return e===Ki.old?null===(t=W(this,ri,"f"))||void 0===t?void 0:t.findIndex((e=>e.lineNumber===i)):null===(n=W(this,fi,"f"))||void 0===n?void 0:n.findIndex((e=>e.lineNumber===i))},this.getSplitRightLine=i=>W(this,fi,"f")[i],this.getSplitHunkLine=i=>{var e;return null===(e=W(this,ui,"f"))||void 0===e?void 0:e[i]},this.onSplitHunkExpand=(i,e,t=!0)=>{var n,s;const l=null===(n=W(this,ui,"f"))||void 0===n?void 0:n[e];if(l&&l.splitInfo&&!W(this,Ii,"f")){if("all"===i){for(let i=l.splitInfo.startHiddenIndex;i<l.splitInfo.endHiddenIndex;i++){const e=W(this,ri,"f")[i],t=W(this,fi,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.splitInfo=Object.assign(Object.assign(Object.assign({},l.splitInfo),l.hunkInfo),{plainText:l.text,startHiddenIndex:l.splitInfo.endHiddenIndex})}else if("down"===i){for(let i=l.splitInfo.startHiddenIndex;i<l.splitInfo.startHiddenIndex+Qi;i++){const e=W(this,ri,"f")[i],t=W(this,fi,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}l.isLast?l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+Qi}):l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{startHiddenIndex:l.splitInfo.startHiddenIndex+Qi,plainText:`@@ -${l.splitInfo.oldStartIndex},${l.splitInfo.oldLength} +${l.splitInfo.newStartIndex},${l.splitInfo.newLength}`})}else{if(l.isLast)return void 0;for(let e=l.splitInfo.endHiddenIndex-Qi;e<l.splitInfo.endHiddenIndex;e++){const i=W(this,ri,"f")[e],t=W(this,fi,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1),(null===t||void 0===t?void 0:t.isHidden)&&(t.isHidden=!1)}const i=l.splitInfo.oldStartIndex-Qi,t=l.splitInfo.oldLength+Qi,n=l.splitInfo.newStartIndex-Qi,d=l.splitInfo.newLength+Qi;l.splitInfo=Object.assign(Object.assign({},l.splitInfo),{endHiddenIndex:l.splitInfo.endHiddenIndex-Qi,oldStartIndex:i,oldLength:t,newStartIndex:n,newLength:d,plainText:`@@ -${i},${t} +${n},${d}`}),null===(s=W(this,ui,"f"))||void 0===s||delete s[e],W(this,ui,"f")[l.splitInfo.endHiddenIndex]=l}t&&this.notifyAll()}},this.getUnifiedLine=i=>W(this,gi,"f")[i],this.getUnifiedLineByLineNumber=(i,e)=>{var t,n;return e===Ki.old?null===(t=W(this,gi,"f"))||void 0===t?void 0:t.find((e=>e.oldLineNumber===i)):null===(n=W(this,gi,"f"))||void 0===n?void 0:n.find((e=>e.newLineNumber===i))},this.getUnifiedLineIndexByLineNumber=(i,e)=>{var t,n;return e===Ki.old?null===(t=W(this,gi,"f"))||void 0===t?void 0:t.findIndex((e=>e.oldLineNumber===i)):null===(n=W(this,gi,"f"))||void 0===n?void 0:n.findIndex((e=>e.newLineNumber===i))},this.getUnifiedHunkLine=i=>{var e;return null===(e=W(this,ci,"f"))||void 0===e?void 0:e[i]},this.onUnifiedHunkExpand=(i,e,t=!0)=>{var n,s,l;if(W(this,Ii,"f"))return;const d=null===(n=W(this,ci,"f"))||void 0===n?void 0:n[e];if(d&&d.unifiedInfo){if("all"===i){for(let i=d.unifiedInfo.startHiddenIndex;i<d.unifiedInfo.endHiddenIndex;i++){const e=null===(s=W(this,gi,"f"))||void 0===s?void 0:s[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1)}d.unifiedInfo=Object.assign(Object.assign(Object.assign({},d.unifiedInfo),d.hunkInfo),{plainText:d.text,startHiddenIndex:d.unifiedInfo.endHiddenIndex})}else if("down"===i){for(let i=d.unifiedInfo.startHiddenIndex;i<d.unifiedInfo.startHiddenIndex+Qi;i++){const e=W(this,gi,"f")[i];(null===e||void 0===e?void 0:e.isHidden)&&(e.isHidden=!1)}d.isLast?d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{startHiddenIndex:d.unifiedInfo.startHiddenIndex+Qi}):d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{startHiddenIndex:d.unifiedInfo.startHiddenIndex+Qi,plainText:`@@ -${d.unifiedInfo.oldStartIndex},${d.unifiedInfo.oldLength} +${d.unifiedInfo.newStartIndex},${d.unifiedInfo.newLength}`})}else{if(d.isLast)return void 0;for(let e=d.unifiedInfo.endHiddenIndex-Qi;e<d.unifiedInfo.endHiddenIndex;e++){const i=W(this,gi,"f")[e];(null===i||void 0===i?void 0:i.isHidden)&&(i.isHidden=!1)}const i=d.unifiedInfo.oldStartIndex-Qi,t=d.unifiedInfo.oldLength+Qi,n=d.unifiedInfo.newStartIndex-Qi,s=d.unifiedInfo.newLength+Qi;d.unifiedInfo=Object.assign(Object.assign({},d.unifiedInfo),{endHiddenIndex:d.unifiedInfo.endHiddenIndex-Qi,oldStartIndex:i,oldLength:t,newStartIndex:n,newLength:s,plainText:`@@ -${i},${t} +${n},${s}`}),null===(l=W(this,ci,"f"))||void 0===l||delete l[e],W(this,ci,"f")[d.unifiedInfo.endHiddenIndex]=d}t&&this.notifyAll()}},this.onAllExpand=i=>{W(this,Ii,"f")||("split"===i?(Object.keys(W(this,ui,"f")||{}).forEach((i=>{this.onSplitHunkExpand("all",+i,!1)})),W(this,ki,"f").state=!0):(Object.keys(W(this,ci,"f")||{}).forEach((i=>{this.onUnifiedHunkExpand("all",+i,!1)})),W(this,Ti,"f").state=!0),this.notifyAll())},this.onAllCollapse=i=>{W(this,Ii,"f")||("split"===i?(Object.values(W(this,ri,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values(W(this,fi,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values(W(this,ui,"f")||{}).forEach((i=>{i.splitInfo&&(i.splitInfo=Object.assign(Object.assign({},i.splitInfo),{oldStartIndex:i.splitInfo._oldStartIndex,oldLength:i.splitInfo._oldLength,newStartIndex:i.splitInfo._newStartIndex,newLength:i.splitInfo._newLength,startHiddenIndex:i.splitInfo._startHiddenIndex,endHiddenIndex:i.splitInfo._endHiddenIndex,plainText:i.splitInfo._plainText}))})),Object.keys(W(this,ui,"f")||{}).forEach((i=>{const e=W(this,ui,"f")[i];e.splitInfo&&e.splitInfo.endHiddenIndex!==+i&&(delete W(this,ui,"f")[i],W(this,ui,"f")[e.splitInfo.endHiddenIndex]=e)})),W(this,ki,"f").state=!1):(Object.values(W(this,gi,"f")||{}).forEach((i=>{!i.isHidden&&i._isHidden&&(i.isHidden=i._isHidden)})),Object.values(W(this,ci,"f")||{}).forEach((i=>{i.unifiedInfo&&(i.unifiedInfo=Object.assign(Object.assign({},i.unifiedInfo),{oldStartIndex:i.unifiedInfo._oldStartIndex,oldLength:i.unifiedInfo._oldLength,newStartIndex:i.unifiedInfo._newStartIndex,newLength:i.unifiedInfo._newLength,startHiddenIndex:i.unifiedInfo._startHiddenIndex,endHiddenIndex:i.unifiedInfo._endHiddenIndex,plainText:i.unifiedInfo._plainText}))})),Object.keys(W(this,ci,"f")||{}).forEach((i=>{const e=W(this,ci,"f")[i];e.unifiedInfo&&e.unifiedInfo.endHiddenIndex!==+i&&(delete W(this,ci,"f")[i],W(this,ci,"f")[e.unifiedInfo.endHiddenIndex]=e)})),W(this,Ti,"f").state=!1),this.notifyAll())},this.getOldFileContent=()=>{var i;return null===(i=W(this,K,"f"))||void 0===i?void 0:i.raw},this.getNewFileContent=()=>{var i;return null===(i=W(this,X,"f"))||void 0===i?void 0:i.raw},this.getOldPlainLine=i=>{var e;return null===(e=W(this,si,"f"))||void 0===e?void 0:e[i]},this.getOldSyntaxLine=i=>{var e;return null===(e=W(this,di,"f"))||void 0===e?void 0:e[i]},this.getNewPlainLine=i=>{var e;return null===(e=W(this,li,"f"))||void 0===e?void 0:e[i]},this.getNewSyntaxLine=i=>{var e;return null===(e=W(this,hi,"f"))||void 0===e?void 0:e[i]},this.subscribe=i=>(W(this,Li,"f").push(i),()=>{D(this,Li,W(this,Li,"f").filter((e=>e!==i)),"f")}),this.notifyAll=i=>{var e;D(this,mi,(e=W(this,mi,"f"),++e),"f"),W(this,Li,"f").forEach((e=>{i&&e.isSyncExternal||e()})),W(this,Ei,"f").forEach(((i,e)=>{e.notifyAll(!0)}))},this.getUpdateCount=()=>W(this,mi,"f"),this.getExpandEnabled=()=>!W(this,Ii,"f"),this.getBundle=()=>{const i=W(this,pi,"f"),e=W(this,vi,"f"),t=W(this,wi,"f"),n=W(this,xi,"f"),s=W(this,ti,"f"),l=W(this,ii,"f"),d=W(this,si,"f"),h=W(this,di,"f"),o=W(this,oi,"f"),a=W(this,ni,"f"),r=W(this,ei,"f"),f=W(this,li,"f"),u=W(this,hi,"f"),g=W(this,ai,"f"),c=this.splitLineLength,L=this.unifiedLineLength,p=this.fileLineLength,v=this.additionLength,w=this.deletionLength,x=W(this,Ii,"f"),m=W(this,yi,"f"),I=W(this,Si,"f"),b=this.hasSomeLineCollapsed,N=W(this,ki,"f"),H=W(this,Ti,"f");return{hasInitRaw:i,hasInitSyntax:e,hasBuildSplit:t,hasBuildUnified:n,oldFileLines:s,oldFileDiffLines:l,oldFilePlainLines:d,oldFileSyntaxLines:h,oldFilePlaceholderLines:o,newFileLines:a,newFileDiffLines:r,newFilePlainLines:f,newFileSyntaxLines:u,newFilePlaceholderLines:g,splitLineLength:c,unifiedLineLength:L,fileLineLength:p,additionLength:v,deletionLength:w,splitLeftLines:W(this,ri,"f"),splitRightLines:W(this,fi,"f"),splitHunkLines:W(this,ui,"f"),unifiedLines:W(this,gi,"f"),unifiedHunkLines:W(this,ci,"f"),highlighterName:m,highlighterType:I,composeByDiff:x,hasSomeLineCollapsed:b,hasExpandSplitAll:N,hasExpandUnifiedAll:H,version:this._version_,theme:W(this,Fi,"f"),enableTemplate:W(this,Ni,"f"),isFullMerge:!1}},this.mergeBundle=(i,e=!0)=>{D(this,pi,i.hasInitRaw,"f"),D(this,vi,i.hasInitSyntax,"f"),D(this,wi,i.hasBuildSplit,"f"),D(this,xi,i.hasBuildUnified,"f"),D(this,Ii,i.composeByDiff,"f"),D(this,yi,i.highlighterName,"f"),D(this,Si,i.highlighterType,"f"),D(this,ti,i.oldFileLines,"f"),D(this,ii,i.oldFileDiffLines,"f"),D(this,si,i.oldFilePlainLines,"f"),D(this,di,i.oldFileSyntaxLines,"f"),D(this,oi,i.oldFilePlaceholderLines,"f"),D(this,ni,i.newFileLines,"f"),D(this,ei,i.newFileDiffLines,"f"),D(this,li,i.newFilePlainLines,"f"),D(this,hi,i.newFileSyntaxLines,"f"),D(this,ai,i.newFilePlaceholderLines,"f"),this.splitLineLength=i.splitLineLength,this.unifiedLineLength=i.unifiedLineLength,this.fileLineLength=i.fileLineLength,this.additionLength=i.additionLength,this.deletionLength=i.deletionLength,this.hasSomeLineCollapsed=i.hasSomeLineCollapsed,D(this,ki,i.hasExpandSplitAll,"f"),D(this,Ti,i.hasExpandUnifiedAll,"f"),D(this,ri,i.splitLeftLines,"f"),D(this,fi,i.splitRightLines,"f"),D(this,ui,i.splitHunkLines,"f"),D(this,gi,i.unifiedLines,"f"),D(this,ci,i.unifiedHunkLines,"f"),D(this,Fi,i.theme,"f"),D(this,Ni,i.enableTemplate,"f"),D(this,bi,!0,"f"),e&&this.notifyAll()},this._getHighlighterName=()=>W(this,yi,"f")||"",this._getIsPureDiffRender=()=>W(this,Ii,"f"),this._getTheme=()=>W(this,Fi,"f"),this._addClonedInstance=i=>{const e=()=>{this._notifyOthers(i),this._mergeFullBundle(i._getFullBundle(),!1)};e.isSyncExternal=!0;const t=i.subscribe(e);W(this,Ei,"f").set(i,t)},this._notifyOthers=i=>{W(this,Ei,"f").forEach(((e,t)=>{t!==i&&t.notifyAll(!0)}))},this._delClonedInstance=i=>{const e=W(this,Ei,"f").get(i);null===e||void 0===e||e(),W(this,Ei,"f").delete(i)},this._getFullBundle=()=>{const i=this.getBundle(),e=W(this,K,"f"),t=W(this,X,"f"),n=W(this,Z,"f"),s=W(this,Y,"f");return Object.assign(Object.assign({},i),{oldFileResult:e,newFileResult:t,diffLines:n,diffListResults:s,isFullMerge:!W(this,bi,"f")||W(this,Hi,"f")})},this._mergeFullBundle=(i,e=!0)=>{this.mergeBundle(i,e);try{D(this,K,i.oldFileResult?V.createInstance(i.oldFileResult):null,"f"),D(this,X,i.newFileResult?V.createInstance(i.newFileResult):null,"f"),D(this,Z,i.diffLines,"f"),D(this,Y,i.diffListResults,"f"),D(this,Hi,i.isFullMerge,"f")}catch(t){}},this._destroy=()=>{this.clearId(),W(this,Li,"f").splice(0,W(this,Li,"f").length),W(this,Ei,"f").forEach((i=>i())),W(this,Ei,"f").clear()},this.clear=()=>{this._destroy(),D(this,K,null,"f"),D(this,X,null,"f"),D(this,Z,null,"f"),D(this,Y,null,"f"),D(this,ei,null,"f"),D(this,ii,null,"f"),D(this,ni,null,"f"),D(this,ti,null,"f"),D(this,hi,null,"f"),D(this,di,null,"f"),D(this,ui,null,"f"),D(this,ri,null,"f"),D(this,fi,null,"f"),D(this,ci,null,"f"),D(this,gi,null,"f"),D(this,Fi,void 0,"f")},Object.defineProperty(this,"__v_skip",{value:!0});const o=Array.from(new Set(s));this._oldFileName=i,this._newFileName=t,this._diffList=o,this._oldFileLang=E(l||i||d||t)||"txt",this._newFileLang=E(d||t||l||i)||"txt",this._oldFileContent=e,this._newFileContent=n,this.initId()}initId(){let i="--"+Math.random().toString().slice(2);for(;Vi.has(i);)i="--"+Math.random().toString().slice(2);Vi.add(i),D(this,Ci,i,"f")}getId(){return W(this,Ci,"f")}clearId(){Vi.delete(W(this,Ci,"f"))}initTheme(i){D(this,_i,W(this,Fi,"f"),"f"),D(this,Fi,i||W(this,Fi,"f")||"light","f")}initRaw(){W(this,pi,"f")||(W(this,J,"m",Mi).call(this),W(this,J,"m",ji).call(this),W(this,J,"m",Oi).call(this),W(this,J,"m",$i).call(this),W(this,J,"m",Ri).call(this),D(this,pi,!0,"f"))}initSyntax({registerHighlighter:i}={}){(!W(this,vi,"f")||W(this,_i,"f")&&W(this,Fi,"f")!==W(this,_i,"f"))&&(W(this,J,"m",Di).call(this,{registerHighlighter:i}),W(this,J,"m",$i).call(this),D(this,vi,!0,"f"))}init(){this.initRaw(),this.initSyntax()}enableTemplate(){D(this,Ni,!0,"f")}disableTemplate(){D(this,Ni,!1,"f")}getIsEnableTemplate(){return W(this,Ni,"f")}buildSplitDiffLines(){var i,e,t,n,s,l;if(W(this,wi,"f"))return;let d=1,h=1,o=!0,a=1/0;const r=(null===(i=W(this,K,"f"))||void 0===i?void 0:i.maxLineNumber)||0,f=(null===(e=W(this,X,"f"))||void 0===e?void 0:e.maxLineNumber)||0;for(0;d<=r||h<=f;){const i=W(this,J,"m",Ai).call(this,d),e=W(this,J,"m",Bi).call(this,h),r=W(this,J,"m",Ui).call(this,d),f=W(this,J,"m",Pi).call(this,h),u=w.prototype.isIncludeableLine.call(i||{}),g=w.prototype.isIncludeableLine.call(e||{}),c=W(this,fi,"f").length,L=!i&&!e;if(i&&!e){if(i.newLineNumber&&i.newLineNumber>h){h++;continue}null!==i.newLineNumber&&void 0!==i.newLineNumber||h++}if(e&&!i){if(e.oldLineNumber&&e.oldLineNumber>d){d++;continue}null!==e.oldLineNumber&&void 0!==e.oldLineNumber||d++}if(!i&&!r&&!e&&!f)break;if(!i&&!e){if((null===(t=W(this,oi,"f"))||void 0===t?void 0:t[d])&&(null===(n=W(this,ai,"f"))||void 0===n?void 0:n[h])){d++,h++;continue}if(!r&&(null===(s=W(this,ai,"f"))||void 0===s?void 0:s[h])){h++;continue}if(!f&&(null===(l=W(this,oi,"f"))||void 0===l?void 0:l[d])){d++;continue}}if(u&&g||!u&&!g?(W(this,ri,"f").push({lineNumber:d++,value:r,diff:i,isHidden:L,_isHidden:L}),W(this,fi,"f").push({lineNumber:h++,value:f,diff:e,isHidden:L,_isHidden:L})):u?(W(this,ri,"f").push({lineNumber:d++,value:r,diff:i,isHidden:L,_isHidden:L}),W(this,fi,"f").push({})):g&&(W(this,ri,"f").push({}),W(this,fi,"f").push({lineNumber:h++,value:f,diff:e,isHidden:L,_isHidden:L})),!o&&L&&(a=c),L&&(this.hasSomeLineCollapsed=!0),o=L,(null===i||void 0===i?void 0:i.prevHunkLine)||(null===e||void 0===e?void 0:e.prevHunkLine)){const t=(null===i||void 0===i?void 0:i.prevHunkLine)||e.prevHunkLine;t.isFirst?(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:0,endHiddenIndex:t.hunkInfo.newStartIndex-1,plainText:t.text,_startHiddenIndex:0,_endHiddenIndex:t.hunkInfo.newStartIndex-1,_plainText:t.text}),a=1/0):Number.isFinite(a)&&(t.splitInfo=Object.assign(Object.assign({},t.hunkInfo),{startHiddenIndex:a,endHiddenIndex:c,plainText:t.text,_startHiddenIndex:a,_endHiddenIndex:c,_plainText:t.text}),a=1/0),D(this,ui,Object.assign(Object.assign({},W(this,ui,"f")),{[c]:t}),"f")}}if(Number.isFinite(a)){const i=new w("",v.Hunk,null,null,null);i.isLast=!0,i.splitInfo={startHiddenIndex:a,endHiddenIndex:W(this,fi,"f").length,_startHiddenIndex:a,_endHiddenIndex:W(this,fi,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},D(this,ui,Object.assign(Object.assign({},W(this,ui,"f")),{[W(this,fi,"f").length]:i}),"f"),a=1/0}this.splitLineLength=W(this,fi,"f").length,D(this,wi,!0,"f"),this.notifyAll()}buildUnifiedDiffLines(){var i,e,t,n,s,l;if(W(this,xi,"f"))return;let d=1,h=1,o=!0,a=1/0;const r=(null===(i=W(this,K,"f"))||void 0===i?void 0:i.maxLineNumber)||0,f=(null===(e=W(this,X,"f"))||void 0===e?void 0:e.maxLineNumber)||0;for(0;d<=r||h<=f;){const i=W(this,J,"m",Ui).call(this,d),e=W(this,J,"m",Ai).call(this,d),r=W(this,J,"m",Pi).call(this,h),f=W(this,J,"m",Bi).call(this,h),u=w.prototype.isIncludeableLine.call(e||{}),g=w.prototype.isIncludeableLine.call(f||{}),c=W(this,gi,"f").length,L=!e&&!f;if(e&&!f){if(e.newLineNumber&&e.newLineNumber>h){h++;continue}null!==e.newLineNumber&&void 0!==e.newLineNumber||h++}if(f&&!e){if(f.oldLineNumber&&f.oldLineNumber>d){d++;continue}null!==f.oldLineNumber&&void 0!==f.oldLineNumber||d++}if(!i&&!r&&!f&&!e)break;if(!e&&!f){if((null===(t=W(this,oi,"f"))||void 0===t?void 0:t[d])&&(null===(n=W(this,ai,"f"))||void 0===n?void 0:n[h])){d++,h++;continue}if(!i&&(null===(s=W(this,ai,"f"))||void 0===s?void 0:s[h])){h++;continue}if(!r&&(null===(l=W(this,oi,"f"))||void 0===l?void 0:l[d])){d++;continue}}if(u||g?u?W(this,gi,"f").push({oldLineNumber:d++,value:i,diff:e,isHidden:L,_isHidden:L}):g&&W(this,gi,"f").push({newLineNumber:h++,value:r,diff:f,isHidden:L,_isHidden:L}):W(this,gi,"f").push({oldLineNumber:d++,newLineNumber:h++,value:r,diff:f,isHidden:L,_isHidden:L}),!o&&L&&(a=c),L&&(this.hasSomeLineCollapsed=!0),o=L,(null===e||void 0===e?void 0:e.prevHunkLine)||(null===f||void 0===f?void 0:f.prevHunkLine)){const i=(null===e||void 0===e?void 0:e.prevHunkLine)||f.prevHunkLine;i.isFirst?(i.unifiedInfo=Object.assign(Object.assign({},i.hunkInfo),{startHiddenIndex:0,endHiddenIndex:i.hunkInfo.newStartIndex-1,plainText:i.text,_startHiddenIndex:0,_endHiddenIndex:i.hunkInfo.newStartIndex-1,_plainText:i.text}),a=1/0):Number.isFinite(a)&&(i.unifiedInfo=Object.assign(Object.assign({},i.hunkInfo),{startHiddenIndex:a,endHiddenIndex:c,plainText:i.text,_startHiddenIndex:a,_endHiddenIndex:c,_plainText:i.text}),a=1/0),D(this,ci,Object.assign(Object.assign({},W(this,ci,"f")),{[c]:i}),"f")}}if(Number.isFinite(a)){const i=new w("",v.Hunk,null,null,null);i.isLast=!0,i.unifiedInfo={startHiddenIndex:a,endHiddenIndex:W(this,gi,"f").length,_startHiddenIndex:a,_endHiddenIndex:W(this,gi,"f").length,plainText:"",oldStartIndex:0,newStartIndex:0,oldLength:0,newLength:0,_plainText:"",_oldStartIndex:0,_newStartIndex:0,_oldLength:0,_newLength:0},D(this,ci,Object.assign(Object.assign({},W(this,ci,"f")),{[W(this,gi,"f").length]:i}),"f"),a=1/0}this.unifiedLineLength=W(this,gi,"f").length,D(this,xi,!0,"f"),this.notifyAll()}get hasExpandSplitAll(){return W(this,ki,"f").state}get hasExpandUnifiedAll(){return W(this,Ti,"f").state}}var Ji,Ki;K=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,ii=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,si=new WeakMap,li=new WeakMap,di=new WeakMap,hi=new WeakMap,oi=new WeakMap,ai=new WeakMap,ri=new WeakMap,fi=new WeakMap,ui=new WeakMap,gi=new WeakMap,ci=new WeakMap,Li=new WeakMap,pi=new WeakMap,vi=new WeakMap,wi=new WeakMap,xi=new WeakMap,mi=new WeakMap,Ii=new WeakMap,bi=new WeakMap,Ni=new WeakMap,Hi=new WeakMap,yi=new WeakMap,Si=new WeakMap,Fi=new WeakMap,_i=new WeakMap,ki=new WeakMap,Ti=new WeakMap,Ci=new WeakMap,Ei=new WeakMap,J=new WeakSet,Oi=function(){this._diffList&&D(this,Y,this._diffList.map((i=>$.parse(i))),"f")},Mi=function(){(this._oldFileContent||this._newFileContent)&&(this._oldFileContent&&(D(this,K,z(this._oldFileContent,this._oldFileLang,W(this,Fi,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),W(this,K,"f").enableTemplate=W(this,Ni,"f")),this._newFileContent&&(D(this,X,z(this._newFileContent,this._newFileLang,W(this,Fi,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),W(this,X,"f").enableTemplate=W(this,Ni,"f")))},ji=function(){var i,e,t,n,s,l,d,h;null===(i=W(this,K,"f"))||void 0===i||i.doRaw(),D(this,ti,null===(e=W(this,K,"f"))||void 0===e?void 0:e.rawFile,"f"),D(this,si,null===(t=W(this,K,"f"))||void 0===t?void 0:t.plainFile,"f"),null===(n=W(this,X,"f"))||void 0===n||n.doRaw(),D(this,ni,null===(s=W(this,X,"f"))||void 0===s?void 0:s.rawFile,"f"),D(this,li,null===(l=W(this,X,"f"))||void 0===l?void 0:l.plainFile,"f"),this.fileLineLength=Math.max(this.fileLineLength,(null===(d=W(this,K,"f"))||void 0===d?void 0:d.maxLineNumber)||0,(null===(h=W(this,X,"f"))||void 0===h?void 0:h.maxLineNumber)||0)},Ri=function(){if(this._oldFileContent&&this._newFileContent)return;const i={},e={};if(this._oldFileContent||this._newFileContent){if(W(this,K,"f")){let i=1,e=1,t="",n=!1;for(;e<=W(this,K,"f").maxLineNumber;){const s=W(this,J,"m",Bi).call(this,i++),l=W(this,J,"m",Ai).call(this,e);s?(t+=s.text,e=s.oldLineNumber?s.oldLineNumber+1:e):(l||(t+=W(this,J,"m",Ui).call(this,e)),e++),!n&&s&&l&&(n=n||s.noTrailingNewLine!==l.noTrailingNewLine)}if(!n&&t===this._oldFileContent)return;this._newFileContent=t,D(this,X,z(this._newFileContent,this._newFileLang,W(this,Fi,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),W(this,X,"f").enableTemplate=W(this,Ni,"f")}else if(W(this,X,"f")){let i=1,e=1,t="",n=!1;for(;e<=W(this,X,"f").maxLineNumber;){const s=W(this,J,"m",Ai).call(this,i++),l=W(this,J,"m",Bi).call(this,e);s?(t+=s.text,e=s.newLineNumber?s.newLineNumber+1:e):(l||(t+=W(this,J,"m",Pi).call(this,e)),e++),!n&&l&&s&&(n=n||l.noTrailingNewLine!==s.noTrailingNewLine)}if(!n&&t===this._newFileContent)return;this._oldFileContent=t,D(this,K,z(this._oldFileContent,this._oldFileLang,W(this,Fi,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),W(this,K,"f").enableTemplate=W(this,Ni,"f")}}else{let t=1,n=1,s="",l="",d=!1;for(;n<=this.diffLineLength||t<=this.diffLineLength;){const h=n++,o=t++,a=W(this,J,"m",Ai).call(this,h),r=W(this,J,"m",Bi).call(this,o);a?s+=a.text:(s+="\n",i[h]=!0),r?l+=r.text:(l+="\n",e[o]=!0),!d&&a&&r&&(d=d||a.noTrailingNewLine!==r.noTrailingNewLine)}if(!d&&s===l)return;this._oldFileContent=s,this._newFileContent=l,D(this,K,z(this._oldFileContent,this._oldFileLang,W(this,Fi,"f"),this._oldFileName,this.uuid?this.uuid+"-old":void 0),"f"),W(this,K,"f").enableTemplate=W(this,Ni,"f"),D(this,X,z(this._newFileContent,this._newFileLang,W(this,Fi,"f"),this._newFileName,this.uuid?this.uuid+"-new":void 0),"f"),W(this,X,"f").enableTemplate=W(this,Ni,"f"),D(this,oi,i,"f"),D(this,ai,e,"f"),D(this,Ii,!0,"f")}W(this,J,"m",ji).call(this)},$i=function(){var i;if(!(null===(i=W(this,Y,"f"))||void 0===i?void 0:i.length))return;const e=i=>W(this,J,"m",Pi).call(this,i),t=i=>W(this,J,"m",Ui).call(this,i),n=i=>W(this,J,"m",qi).call(this,i),s=i=>W(this,J,"m",Gi).call(this,i);D(this,Z,[],"f"),this.additionLength=0,this.deletionLength=0;const l=[];W(this,Y,"f").forEach((i=>{i.hunks.forEach((i=>{let d=[],h=[];i.lines.forEach((i=>{i.type===v.Add?(d.push(i),this.additionLength++):i.type===v.Delete?(h.push(i),this.deletionLength++):(O(d,h,{getAdditionRaw:e,getDeletionRaw:t,getAdditionSyntax:n,getDeletionSyntax:s}),d=[],h=[]),l.push(i)})),O(d,h,{getAdditionRaw:e,getDeletionRaw:t,getAdditionSyntax:n,getDeletionSyntax:s})}))}));let d=null;D(this,Z,l.map(((i,e)=>{var t;const n=i;if(n.index=e,n.isFirst=0===e,n.type===v.Hunk){const i=null===(t=n.text.split("@@"))||void 0===t?void 0:t[1].split(" ").filter(Boolean),e=(null===i||void 0===i?void 0:i[0])||"",s=(null===i||void 0===i?void 0:i[1])||"",[l,h]=e.split(","),[o,a]=s.split(",");n.hunkInfo={oldStartIndex:-Number(l),oldLength:Number(h),newStartIndex:+Number(o),newLength:Number(a),_oldStartIndex:-Number(l),_oldLength:Number(h),_newStartIndex:+Number(o),_newLength:Number(a)},d=n}else if(n.type===v.Context){const e=i;d&&(e.prevHunkLine=d,d=null)}else d=null;return n})),"f"),D(this,ii,{},"f"),D(this,ei,{},"f");W(this,Z,"f").forEach((i=>{i.oldLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,i.oldLineNumber),W(this,ii,"f")[i.oldLineNumber]=i),i.newLineNumber&&(this.diffLineLength=Math.max(this.diffLineLength,i.newLineNumber),W(this,ei,"f")[i.newLineNumber]=i)}))},Wi=function({registerHighlighter:i}){var e,t,n,s;null===(e=W(this,K,"f"))||void 0===e||e.doSyntax({registerHighlighter:i,theme:W(this,Fi,"f")}),D(this,di,null===(t=W(this,K,"f"))||void 0===t?void 0:t.syntaxFile,"f"),null===(n=W(this,X,"f"))||void 0===n||n.doSyntax({registerHighlighter:i,theme:W(this,Fi,"f")}),D(this,hi,null===(s=W(this,X,"f"))||void 0===s?void 0:s.syntaxFile,"f")},Di=function({registerHighlighter:i}={}){var e,t,n,s;"class"!==W(this,Si,"f")&&(W(this,bi,"f")&&!W(this,Hi,"f")||(W(this,J,"m",Wi).call(this,{registerHighlighter:i}),D(this,yi,(null===(e=W(this,K,"f"))||void 0===e?void 0:e.highlighterName)||(null===(t=W(this,X,"f"))||void 0===t?void 0:t.highlighterName)||W(this,yi,"f"),"f"),D(this,Si,(null===(n=W(this,K,"f"))||void 0===n?void 0:n.highlighterType)||(null===(s=W(this,X,"f"))||void 0===s?void 0:s.highlighterType)||W(this,Si,"f"),"f")))},Ai=function(i){var e;if(i)return null===(e=W(this,ii,"f"))||void 0===e?void 0:e[i]},Bi=function(i){var e;if(i)return null===(e=W(this,ei,"f"))||void 0===e?void 0:e[i]},Ui=function(i){var e;return null===(e=W(this,ti,"f"))||void 0===e?void 0:e[i]},Pi=function(i){var e;return null===(e=W(this,ni,"f"))||void 0===e?void 0:e[i]},Gi=function(i){var e;return null===(e=W(this,di,"f"))||void 0===e?void 0:e[i]},qi=function(i){var e;return null===(e=W(this,hi,"f"))||void 0===e?void 0:e[i]},function(i){i[i.hunk=1]="hunk",i[i.content=2]="content",i[i.widget=3]="widget",i[i.extend=4]="extend"}(Ji||(Ji={})),function(i){i[i.old=1]="old",i[i.new=2]="new"}(Ki||(Ki={}))}}]);